{
  "FileID":  573785173,
  "FileVersion":  8,
  "ViewPos.x":  301,
  "ViewPos.y":  -354,
  "ScriptName":  "Cat_ZelRangers",
  "ScriptFileOut":  "D:\\Games\\Steam\\steamapps\\common\\Space Rangers HD A War Apart\\Mods\\KotyankaPlus\\Cat_ZelRangers\\DATA\\Script\\Cat_ZelRangers.scr",
  "ScriptTextOut":  "D:\\Games\\Steam\\steamapps\\common\\Space Rangers HD A War Apart\\Mods\\KotyankaPlus\\Cat_ZelRangers\\DATA\\Script\\Cat_ZelRangers.txt",
  "Visual.Objects":  
  [
    {
      "DialogAnswers":      
      [
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  1010,
          "Pos.y":  320,
          "Parent":  -1,
          "#":  27,
          "Msg":  "Не, ну я конечно не барон, пока что, но ты дело говоришь.",
          "AMsg.Num":  "0"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  1010,
          "Pos.y":  380,
          "Parent":  -1,
          "#":  29,
          "Msg":  "Не, ну как бы да... а к чему ты это?",
          "AMsg.Num":  "1"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  1010,
          "Pos.y":  440,
          "Parent":  -1,
          "#":  31,
          "Msg":  "Так у тебя всё готово?! Так это же другое дело, ну чё там, сколько кредитов стоит закупить пару тройку подержаных звездолётов?",
          "AMsg.Num":  "2"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  1040,
          "Pos.y":  410,
          "Parent":  -1,
          "#":  32,
          "Msg":  "Не, идея здравая но мне мои деньги явно важней.",
          "AMsg.Num":  "3"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "exit",
          "Pos.x":  1100,
          "Pos.y":  410,
          "Parent":  -1,
          "#":  34,
          "Msg":  "",
          "AMsg.Num":  "4"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  1190,
          "Pos.y":  190,
          "Parent":  -1,
          "#":  40,
          "Msg":  "Информация о параметрах корабля, для первого класса салаг",
          "AMsg.Num":  "5"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  1190,
          "Pos.y":  210,
          "Parent":  -1,
          "#":  46,
          "Msg":  "Информация о параметрах корабля, для второго класса салаг",
          "AMsg.Num":  "6"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  1190,
          "Pos.y":  230,
          "Parent":  -1,
          "#":  47,
          "Msg":  "Информация о параметрах корабля, для третьего класса салаг",
          "AMsg.Num":  "7"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  1190,
          "Pos.y":  250,
          "Parent":  -1,
          "#":  48,
          "Msg":  "Информация о параметрах корабля, для четвертого класса салаг",
          "AMsg.Num":  "8"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  1190,
          "Pos.y":  270,
          "Parent":  -1,
          "#":  49,
          "Msg":  "Информация о параметрах корабля, для пятого класса салаг",
          "AMsg.Num":  "9"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  1120,
          "Pos.y":  -40,
          "Parent":  -1,
          "#":  50,
          "Msg":  "Расскажите об общих параметрах",
          "AMsg.Num":  "10"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  1280,
          "Pos.y":  -80,
          "Parent":  -1,
          "#":  52,
          "Msg":  "Меня интересует количество классов для обучения салаг\r\n",
          "AMsg.Num":  "11"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  1280,
          "Pos.y":  -60,
          "Parent":  -1,
          "#":  53,
          "Msg":  "Меня интересует скорость обучения салаг\r\n",
          "AMsg.Num":  "12"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  1280,
          "Pos.y":  -40,
          "Parent":  -1,
          "#":  54,
          "Msg":  "Меня интересует количество выдаваемого оборудования новым салагам",
          "AMsg.Num":  "13"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  1280,
          "Pos.y":  -20,
          "Parent":  -1,
          "#":  55,
          "Msg":  "Меня интересует программа обучения новых салаг",
          "AMsg.Num":  "14"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  1280,
          "Pos.y":  0,
          "Parent":  -1,
          "#":  56,
          "Msg":  "Меня интересует улучшение оборудования салаг",
          "AMsg.Num":  "15"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  1280,
          "Pos.y":  210,
          "Parent":  -1,
          "#":  79,
          "Msg":  "Меня интересует размер корпуса",
          "AMsg.Num":  "16"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  1280,
          "Pos.y":  230,
          "Parent":  -1,
          "#":  80,
          "Msg":  "Меня интересует акрин корпуса",
          "AMsg.Num":  "17"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  1280,
          "Pos.y":  250,
          "Parent":  -1,
          "#":  81,
          "Msg":  "Меня интересует уровень экипировки",
          "AMsg.Num":  "18"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  1470,
          "Pos.y":  140,
          "Parent":  -1,
          "#":  96,
          "Msg":  "Да",
          "AMsg.Num":  "19"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  1430,
          "Pos.y":  160,
          "Parent":  -1,
          "#":  98,
          "Msg":  "Нет",
          "AMsg.Num":  "20"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  1340,
          "Pos.y":  170,
          "Parent":  -1,
          "#":  99,
          "Msg":  "Я хочу проспонсировать улучшение этого параметра",
          "AMsg.Num":  "21"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  1430,
          "Pos.y":  200,
          "Parent":  -1,
          "#":  102,
          "Msg":  "Хорошо",
          "AMsg.Num":  "22"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  1310,
          "Pos.y":  280,
          "Parent":  -1,
          "#":  103,
          "Msg":  "Обратно к параметрам текущего салаги",
          "AMsg.Num":  "23"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "restart",
          "Pos.x":  1120,
          "Pos.y":  290,
          "Parent":  -1,
          "#":  106,
          "Msg":  "Ничего не нужно",
          "AMsg.Num":  "24"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  1310,
          "Pos.y":  30,
          "Parent":  -1,
          "#":  107,
          "Msg":  "Обратно к общим параметрам",
          "AMsg.Num":  "25"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  1530,
          "Pos.y":  140,
          "Parent":  -1,
          "#":  109,
          "Msg":  "Я хочу проспонсировать улучшение этого параметра еще раз",
          "AMsg.Num":  "26"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  1510,
          "Pos.y":  200,
          "Parent":  -1,
          "#":  110,
          "Msg":  "Ага",
          "AMsg.Num":  "27"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  1250,
          "Pos.y":  150,
          "Parent":  -1,
          "#":  132,
          "Msg":  "Обратно к выбору параметров",
          "AMsg.Num":  "28"        
        },
        {
          "Type":  "TDialogAnswer",
          "Name":  "",
          "Pos.x":  1160,
          "Pos.y":  40,
          "Parent":  -1,
          "#":  136,
          "Msg":  "Обратно к выбору параметров",
          "AMsg.Num":  "29"        
        }      
      ],
      "DialogMessages":      
      [
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  1010,
          "Pos.y":  290,
          "Parent":  -1,
          "#":  26,
          "Msg":  "Ну братух, сам понимаешь мы ребята вольные, да и ремесло наше не простое. Сейчас когда с одной стороны жестянки а с другой псы Коалиции, совсем грусно стало. Был бы я Бароном всем новичкам раздавал бы по кораблю и оборудки не жалел бы.",
          "DMsg.Num":  "0"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  1010,
          "Pos.y":  350,
          "Parent":  -1,
          "#":  28,
          "Msg":  "Слушай, можешь не отвечать конечно, но это же про тебя постоянно статьи в галанете пишут, да и корабль твой в ангаре самый навароченный из всех, явно же при деньгах.",
          "DMsg.Num":  "1"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  1010,
          "Pos.y":  410,
          "Parent":  -1,
          "#":  30,
          "Msg":  "Да я третьего дня, сидел кумекал сколько чё стоить будет если бароном стану или ему просто идею закинуть, короче таблицу расходов в Гаалакселе навоял.\r\nЕсли интересно то могу показать а там уже если чё и браткам закинешь на новую ласточку.",
          "DMsg.Num":  "2"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  1070,
          "Pos.y":  410,
          "Parent":  -1,
          "#":  33,
          "Msg":  "Да... Я всё понимаю братух но как захочишь ченить в мире поменять, ты знаешь где меня найти.",
          "DMsg.Num":  "3"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  1010,
          "Pos.y":  470,
          "Parent":  -1,
          "#":  35,
          "Msg":  "Ха, вот это по нашему, держи доступ таблица интерактивная, сама подскажет что имеем и что можно подтянуть, глядишь если все статьи закроем, то и Каолов победим.",
          "DMsg.Num":  "4"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  1120,
          "Pos.y":  230,
          "Parent":  -1,
          "#":  37,
          "Msg":  "Вас приветствует интерактивная таблица информации Гаалаксель! Что вы хотите узнать?",
          "DMsg.Num":  "5"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  1240,
          "Pos.y":  -40,
          "Parent":  -1,
          "#":  51,
          "Msg":  "В общие параметры входит:\r\n1. Количество баров для экскурса салаг\r\n2. Скорость обучения рейнджеров\r\n3. Количество выдаваемого оборудования рейнджерам\r\n4. Качество программы обучения новых рейнджеров\r\n5. Степерь дополнительного улучшения оборудования рейнджеров\r\n",
          "DMsg.Num":  "6"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  1310,
          "Pos.y":  -80,
          "Parent":  -1,
          "#":  65,
          "Msg":  "В данный момент мы за один раз способны подготовить <StrNRangers[NRangers-1]>.",
          "DMsg.Num":  "7"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  1310,
          "Pos.y":  -60,
          "Parent":  -1,
          "#":  69,
          "Msg":  "Мы постоянно работаем над привлечением новых гуманоидов в пиратское движение. Прямо сейчас мы <StrLvlFreq[LvlFreq-1]>.",
          "DMsg.Num":  "8"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  1310,
          "Pos.y":  -40,
          "Parent":  -1,
          "#":  70,
          "Msg":  "Следующим салагам мы будем выдавать <StrNItems[NItems-1]>.",
          "DMsg.Num":  "9"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  1310,
          "Pos.y":  -20,
          "Parent":  -1,
          "#":  71,
          "Msg":  "Сейчас мы <StrLvlSkills[LvlSkills-1]>.",
          "DMsg.Num":  "10"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  1310,
          "Pos.y":  0,
          "Parent":  -1,
          "#":  72,
          "Msg":  "Нашим специалистом по улучшению оборудования является <StrLvlUpgrade[LvlUpgrade-1]>.",
          "DMsg.Num":  "11"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  1250,
          "Pos.y":  230,
          "Parent":  -1,
          "#":  73,
          "Msg":  "В параметры корабля салаги входит:\r\n1. Размер корпуса\r\n2. Акрин корпуса\r\n3. Уровень экипировки",
          "DMsg.Num":  "12"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  1310,
          "Pos.y":  210,
          "Parent":  -1,
          "#":  82,
          "Msg":  "Этот класс салаг получит <StrLvlHullSize[LvlHullSize[current_ranger]-1]>.",
          "DMsg.Num":  "13"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  1310,
          "Pos.y":  230,
          "Parent":  -1,
          "#":  83,
          "Msg":  "Акринацию корпуса для этого класса салаг производят <StrLvlHullAcrin[LvlHullAcrin[current_ranger]-1]>.",
          "DMsg.Num":  "14"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  1310,
          "Pos.y":  250,
          "Parent":  -1,
          "#":  84,
          "Msg":  "Оборудование для этого класса салаг мы <StrLvlEq[LvlEq[current_ranger]-1]>.",
          "DMsg.Num":  "15"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  1430,
          "Pos.y":  140,
          "Parent":  -1,
          "#":  94,
          "Msg":  "На данный момент улучшение требует <cost> cr. Желаете проспонсировать проект?",
          "DMsg.Num":  "16"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  1510,
          "Pos.y":  140,
          "Parent":  -1,
          "#":  97,
          "Msg":  "Спасибо братуха, твоя жертва не оценима, давай налью бесплатно! Обмоем. Только благодаря таким как ты мы ещё на плаву.",
          "DMsg.Num":  "17"        
        },
        {
          "Type":  "TDialogMsg",
          "Name":  "",
          "Pos.x":  1410,
          "Pos.y":  200,
          "Parent":  -1,
          "#":  101,
          "Msg":  "Этот параметр уже находится на максимальном уровне",
          "DMsg.Num":  "18"        
        }      
      ],
      "Dialogs":      
      [
        {
          "Type":  "TDialog",
          "Name":  "Begin",
          "Pos.x":  1010,
          "Pos.y":  260,
          "Parent":  -1,
          "#":  25        
        },
        {
          "Type":  "TDialog",
          "Name":  "Verbovka",
          "Pos.x":  1040,
          "Pos.y":  230,
          "Parent":  -1,
          "#":  39        
        }      
      ],
      "Groups":      
      [
        {
          "Type":  "TGroup",
          "Name":  "Group",
          "Pos.x":  370,
          "Pos.y":  -70,
          "Parent":  -1,
          "#":  4,
          "Owner":  62,
          "Group.Type":  33554558,
          "CntShipMin":  1,
          "CntShipMax":  1,
          "SpeedMin":  100,
          "SpeedMax":  10000,
          "Weapon":  0,
          "CargoHook":  0,
          "EmptySpace":  0,
          "AddPlayer":  true,
          "StatusTraderMin":  0,
          "StatusTraderMax":  100,
          "StatusWarriorMin":  0,
          "StatusWarriorMax":  100,
          "StatusPirateMin":  0,
          "StatusPirateMax":  100,
          "DistSearch":  10000,
          "Dialog":  -1,
          "StrengthMin":  "0",
          "StrengthMax":  "0",
          "Ruins":  ""        
        }      
      ],
      "Operations":      
      [
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  370,
          "Pos.y":  -200,
          "Parent":  -1,
          "#":  2,
          "Code.Type":  "Global",
          "Code":          
          [
              "GRun();"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  700,
          "Pos.y":  -200,
          "Parent":  -1,
          "#":  8,
          "Code.Type":  "Turn",
          "Code":          
          [
              "if (CurTurn() >= buy_date + BuildingTime()) {",
              "    // Обновляем дату постройки",
              "    buy_date = CurTurn();",
              "    // Покупаем NRangers рейнджеров на каждом ЦР",
              "    for (j = 0; j < GalaxyStars(); j = j + 1) {",
              "        if (StarRuins(GalaxyStar(j),'PB')) {",
              "            for (k = 0; k < NRangers; k = k + 1) {",
              "                BuyNewRanger(StarRuins(GalaxyStar(j),'PB'), k);",
              "            }",
              "        }",
              "    }",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  490,
          "Pos.y":  -250,
          "Parent":  -1,
          "#":  9,
          "Code.Type":  "Init",
          "Code":          
          [
              "function RandomWeapon(race, bonus) {",
              "    // ВНИМАНИЕ ВНИМАНИЕ Я убрал проверку на принадлежность пушки какой-либо стороне. Рангеры могут заспавниться с пиратскими и домиковскими пушками!",
              "    // Подходящий тип: 1) ТУ появления < ГТУ + bonus; 2) ТУ появления > ГТУ + bonus - 3; 3) доступен для продажи и коалами, и пиратами",
              "    unknown tarr = newarray(1);",
              "    int cnu;",
              "",
              "    ArrayClear(tarr);",
              "    ArrayDelete(tarr,0);",
              "    cnu = 0;",
              "",
              "    //for(i=t_Weapon1;i<t_Weapon18;i=i+1) {",
              "    //    ArrayAdd(tarr,i);",
              "    //}",
              "    /*if(GetMainData('Data.Script.Mod_EvoMabokit')) {",
              "        ArrayAdd(tarr,'Mabokit');",
              "        cnu = cnu + 1;",
              "    }",
              "    if(GetMainData('Data.Script.Mod_ExpPlasmaGun')) {",
              "        ArrayAdd(tarr,'PlasmaGun');",
              "        cnu = cnu + 1;",
              "    }",
              "    if(GetMainData('Data.Script.Mod_ShuEmitter')) {",
              "        ArrayAdd(tarr,'frag_gun');",
              "        ArrayAdd(tarr,'gaal_vision');",
              "        ArrayAdd(tarr,'grav_beam');",
              "        ArrayAdd(tarr,'laser_gun');",
              "        ArrayAdd(tarr,'maloc_laser');",
              "        ArrayAdd(tarr,'maloc_laser2');",
              "        ArrayAdd(tarr,'photon_gun');",
              "        ArrayAdd(tarr,'photon_gun2');",
              "        ArrayAdd(tarr,'photon_gun3');",
              "        ArrayAdd(tarr,'pulse_gun');",
              "        ArrayAdd(tarr,'pulse_gun2');",
              "        ArrayAdd(tarr,'slow_gun');",
              "        ArrayAdd(tarr,'sphere_gun');",
              "        ArrayAdd(tarr,'splash_faser');",
              "        ArrayAdd(tarr,'sub_gun');",
              "        cnu = cnu + 1;",
              "    }",
              "    if(GetMainData('Data.Script.Mod_NewGun')) {",
              "        ArrayAdd(tarr,'MeonPlasmathrower');",
              "        cnu = cnu + 1;",
              "    }",
              "    if(GetMainData('Data.Script.ExzoShocker')) {",
              "        ArrayAdd(tarr,'ExzoShocker');",
              "        ArrayAdd(tarr,'Multiplet');",
              "        ArrayAdd(tarr,'Mauler');",
              "        ArrayAdd(tarr,'FusionQuasar');",
              "        ArrayAdd(tarr,'Atomizer');",
              "        ArrayAdd(tarr,'CryoProjector');",
              "        ArrayAdd(tarr,'Torpedomet');",
              "        ArrayAdd(tarr,'Torpednik');",
              "        cnu = cnu + 1;",
              "    }",
              "    if(GetMainData('Data.Script.Cat_Guns')) {",
              "        ArrayAdd(tarr,'palach');",
              "        ArrayAdd(tarr,'tornado');",
              "        ArrayAdd(tarr,'plazma');",
              "        cnu = cnu + 1;",
              "    }*/",
              "",
              "    CT('Items.Weapon.CustomWeapon',tarr);",
              "",
              "    int rand;",
              "    dword tstr2;",
              "    while(1) {",
              "        //if(Rnd(1,2) == 2) {",
              "        //    rand = Rnd(1,ArrayDim(tarr)-1);",
              "        //    tstr2 = tarr[rand];",
              "        //    if(GetCustomWeaponData(tstr2, 'TechLevel') <= max(1, GalaxyTechLevel() + bonus) && (GetCustomWeaponData(tstr2, 'TechLevel') >= GalaxyTechLevel() - 3) && (GetCustomWeaponData(tstr2, 'Availability') != 'NotSold') && (GetCustomWeaponData(tstr2, 'Availability') != 'NotSoldAndNodeRepair') && (GetCustomWeaponData(tstr2, 'Availability') != 'SystemOnly')) {",
              "        //        size = round(0.01 * Rnd(67, 133) * GetCustomWeaponData(tstr2, 'AverageSize')); // +-33% размера",
              "        //        power = GetCustomWeaponData(tstr2, 'TechLevel');",
              "        //        power = 8.0 / (9.0 - power) * (GalaxyTechLevel() + bonus + 1 - power); // Рассчитываем ТУ пушки по ГТУ и ТУ ее появления",
              "        //        power = toDiap(round(power), 1, 8);",
              "        //        result = CreateCustomWeapon(tstr2, size, power, race);",
              "        //        break;",
              "        //    }",
              "        //}",
              "        //else {",
              "            rand = Rnd(t_Weapon1, t_Weapon18);",
              "            if(GetCustomWeaponData(rand, 'TechLevel') <= max(1, GalaxyTechLevel() + bonus) && (GetCustomWeaponData(rand, 'TechLevel') >= GalaxyTechLevel() - 3) && (GetCustomWeaponData(rand, 'Availability') != 'NotSold') && (GetCustomWeaponData(rand, 'Availability') != 'NotSoldAndNodeRepair') && (GetCustomWeaponData(rand, 'Availability') != 'SystemOnly')) {",
              "                size = round(0.01 * Rnd(67, 133) * GetCustomWeaponData(rand, 'AverageSize')); // +-33% размера",
              "                power = GetCustomWeaponData(rand, 'TechLevel');",
              "                power = 8.0 / (9.0 - power) * (GalaxyTechLevel() + bonus + 1 - power); // Рассчитываем ТУ пушки по ГТУ и ТУ ее появления",
              "                power = toDiap(round(power), 1, 8);",
              "                result = CreateEquipment(rand, size, power, race);",
              "                break;",
              "            }",
              "        //}",
              "    }",
              "",
              "    if(!result){// Этого не должно происходить, но если произошло, то даем малокский промлазер 1ТУ весом 10",
              "        if (debug) SFT('[ZelPirates.RandomWeapon] Пушка не выдалась');",
              "        result = CreateEquipment(t_Weapon1, 10, 1, 0);",
              "    }",
              "}",
              "",
              "function RandomEqQuality(lvl) {",
              "    result = -1;",
              "",
              "    if (lvl == 1) {",
              "        result = choice3(",
              "            0.90, -1,",
              "            0.10, 0,",
              "            0.00, 1",
              "        );",
              "    } else if (lvl == 2) {",
              "        result = choice3(",
              "            0.65, -1,",
              "            0.25, 0,",
              "            0.10, 1",
              "        );",
              "    } else if (lvl == 3) {",
              "        result = choice3(",
              "            0.40, -1,",
              "            0.40, 0,",
              "            0.20, 1",
              "        );",
              "    } else if (lvl == 4) {",
              "        result = choice3(",
              "            0.10, -1,",
              "            0.60, 0,",
              "            0.30, 1",
              "        );",
              "    } else if (lvl == 5) {",
              "        result = choice3(",
              "            0.00, -1,",
              "            0.50, 0,",
              "            0.50, 1",
              "        );",
              "    }",
              "",
              "    if(result == -1 && debug){SFT('[ZelRangers.RandomEqQuality] result==-1');}; // Это произойдет, если был получем lvl не из множества {1,2,3,4,5}",
              "}",
              "",
              "function GiveEq(ship, type, size, lvl) {",
              "    //SFT('[GiveEq] ship id: ' + Id(ship) + ' type: ' + type + ' size: ' + size + ' lvl:' + lvl);",
              "    if (type == t_Weapon1) {",
              "        item = RandomWeapon(ShipOwner(ship), RandomEqQuality(lvl));",
              "    } else {",
              "        item = CreateEquipment(type, round(0.01 * Rnd(80, 120) * size), toDiap(GalaxyTechLevel() + RandomEqQuality(lvl), 1, 8), ShipOwner(ship));",
              "    }",
              "    AddItemToShip(ship, item);",
              "}",
              "",
              "",
              "function GiveAllEq(ship, lvl, itemsCnt) {",
              "    // Задолбаюсь тут все комментировать, и так по коду понятно)",
              "",
              "    GiveEq(ship, t_Engine, Rnd(20, 50), lvl);",
              "    GiveEq(ship, t_FuelTanks, Rnd(20, 50), lvl);",
              "    GiveEq(ship, t_CargoHook, Rnd(20, 50), lvl);",
              "    GiveEq(ship, t_Weapon1, 1, lvl);",
              "",
              "    if (itemsCnt == 1) { //все и так уже выдано",
              "    } else if (itemsCnt == 2) {",
              "        if (prob(0.50))",
              "            GiveEq(ship, t_Radar, Rnd(15, 40), lvl);",
              "        else",
              "            GiveEq(ship, t_Weapon1, 1, lvl);",
              "    } else if (itemsCnt == 3) {",
              "        GiveEq(ship, t_Weapon1, 1, lvl);",
              "        GiveEq(ship, t_Radar, Rnd(15, 40), lvl);",
              "        if (prob(0.50)) {",
              "            random = choice4(",
              "                0.25, 0,",
              "                0.25, 1,",
              "                0.25, 2,",
              "                0.25, 3",
              "            );",
              "            if (random == 0) GiveEq(ship, t_Weapon1, 1, lvl); else",
              "            if (random == 1) GiveEq(ship, t_Scaner, Rnd(15, 40), lvl); else",
              "            if (random == 2) GiveEq(ship, t_DefGenerator, Rnd(20, 50), lvl); else",
              "            if (random == 3) GiveEq(ship, t_RepairRobot, Rnd(20, 50), lvl);",
              "        }",
              "    } else if (itemsCnt == 4) {",
              "        GiveEq(ship, t_Weapon1, 1, lvl);",
              "        GiveEq(ship, t_Radar, Rnd(15, 40), lvl);",
              "        if (prob(0.5)) {",
              "            random = Rnd(0, 3);",
              "            if (random == 0) GiveEq(ship, t_Weapon1, 1, lvl); else",
              "            if (random == 1) GiveEq(ship, t_Scaner, Rnd(15, 40), lvl); else",
              "            if (random == 2) GiveEq(ship, t_DefGenerator, Rnd(20, 50), lvl); else",
              "            if (random == 3) GiveEq(ship, t_RepairRobot, Rnd(20, 50), lvl);",
              "        } else {",
              "            random = Rnd(0, 3);",
              "            if (random == 0) {",
              "                GiveEq(ship, t_Weapon1, 1, lvl);",
              "                GiveEq(ship, t_Scaner, Rnd(15, 40), lvl);",
              "            } else if (random == 1) {",
              "                GiveEq(ship, t_Scaner, Rnd(15, 40), lvl);",
              "                GiveEq(ship, t_DefGenerator, Rnd(20, 50), lvl);",
              "            } else if (random == 2) {",
              "                GiveEq(ship, t_DefGenerator, Rnd(20, 50), lvl);",
              "                GiveEq(ship, t_RepairRobot, Rnd(20, 50), lvl);",
              "            } else if (random == 3/*кто-то это читает?*/) {",
              "                GiveEq(ship, t_RepairRobot, Rnd(20, 50), lvl);",
              "                GiveEq(ship, t_Weapon1, 1, lvl);",
              "            }",
              "        }",
              "    } else if (itemsCnt == 5){",
              "        GiveEq(ship, t_Weapon1, 1, lvl);",
              "        GiveEq(ship, t_Weapon1, 1, lvl);",
              "        GiveEq(ship, t_Radar, Rnd(15, 40), lvl);",
              "",
              "        if (prob(0.50)) {",
              "            random = Rnd(0, 3);",
              "            if (random == 0) {",
              "                GiveEq(ship, t_Weapon1, 1, lvl);",
              "                GiveEq(ship, t_Scaner, Rnd(15, 40), lvl);",
              "            } else if (random == 1) {",
              "                GiveEq(ship, t_Scaner, Rnd(15, 40), lvl);",
              "                GiveEq(ship, t_DefGenerator, Rnd(20, 50), lvl);",
              "            } else if (random == 2) {",
              "                GiveEq(ship, t_DefGenerator, Rnd(20, 50), lvl);",
              "                GiveEq(ship, t_RepairRobot, Rnd(20, 50), lvl);",
              "            } else if (random == 3) {",
              "                GiveEq(ship, t_RepairRobot, Rnd(20, 50), lvl);",
              "                GiveEq(ship, t_Weapon1, 1, lvl);",
              "            }",
              "        } else {",
              "            GiveEq(ship, t_Weapon1, 1, lvl);",
              "            GiveEq(ship, t_Scaner, Rnd(15, 40), lvl);",
              "            GiveEq(ship, t_DefGenerator, Rnd(20, 50), lvl);",
              "            GiveEq(ship, t_RepairRobot, Rnd(20, 50), lvl);",
              "        }",
              "    }",
              "}",
              "",
              "// Тренирует рейнджера",
              "function TrainShip(ship, lvl) {",
              "    result = 0;",
              "",
              "    if (lvl == 1) {",
              "        result = choice2(",
              "            0.67, 0,",
              "            0.33, 1",
              "        );",
              "    } else if (lvl == 2) {",
              "        result = choice3(",
              "            0.25, 0,",
              "            0.25, 1,",
              "            0.50, 2",
              "        );",
              "    } else if (lvl == 3) {",
              "        result = choice3(",
              "            0.57, 1,",
              "            0.28, 2,",
              "            0.14, 3",
              "        );",
              "    } else if (lvl == 4) {",
              "        result = choice4(",
              "            0.17, 1,",
              "            0.33, 2,",
              "            0.33, 3,",
              "            0.17, 4",
              "        );",
              "    } else if (lvl == 5) {",
              "        result = choice3(",
              "            0.55, 3,",
              "            0.22, 4,",
              "            0.22, 5",
              "        );",
              "    }",
              "    for (i = 0; i <= 5; i = i + 1)",
              "        ShipSkill(ship, i, toDiap(result + Rnd(-1, 1), 1, 6)); //Добавил рандомизацию +-1 уровень навыка",
              "}",
              "",
              "// Улучшает оборудку на корабле несколько раз",
              "function UpgradeShip(ship, lvl) {",
              "    if (lvl == 1) ShipImproveItems(ship, Rnd(1, 1)); else",
              "    if (lvl == 2) ShipImproveItems(ship, Rnd(2, 3)); else",
              "    if (lvl == 3) ShipImproveItems(ship, Rnd(3, 5)); else",
              "    if (lvl == 4) ShipImproveItems(ship, Rnd(5, 8)); else",
              "    if (lvl == 5) ShipImproveItems(ship, Rnd(8,12));",
              "}",
              "",
              "function AcrynEquip(dword ship) {",
              "    int chance;",
              "    int coun;",
              "    dword tdwd2;",
              "    if(LvlUpgrade == 1) chance = 80;",
              "    if(LvlUpgrade == 2) chance = 60;",
              "    if(LvlUpgrade == 3) chance = 40;",
              "    if(LvlUpgrade == 4) chance = 20;",
              "    if(LvlUpgrade == 5) chance = 0;",
              "",
              "    unknown tarr = newarray(1);",
              "    ArrayClear(tarr);",
              "    ArrayDelete(tarr,0);",
              "    unknown akrin_num_array = newarray(1);",
              "    ArrayClear(akrin_num_array);",
              "    ArrayDelete(akrin_num_array,0);",
              "    int temp_int;",
              "    int temp_int_2;",
              "    str tstr2;",
              "    str temp_str_2;",
              "    str temp_str_3;",
              "    str temp_str_4;",
              "    dword chosen_akrin;",
              "",
              "    int i,j;",
              "",
              "    if(Rnd(1,100) > chance) {",
              "        for(j = 1; j < ShipItems(ship); j = j + 1) {",
              "            if(coun > 100) {",
              "                result = 2;",
              "            }",
              "            //SFT('01');",
              "            tdwd2 = ShipItems(ship,j);",
              "            if(ItemType(tdwd2) < t_FuelTanks) continue;",
              "            if(ItemType(tdwd2) > t_DefGenerator) continue;",
              "            //if(!tdwd2) continue;",
              "            //SFT(tdwd2);",
              "            //SFT(ObjectType(tdwd2));",
              "",
              "            if(EqSpecial(tdwd2)) {",
              "                coun = coun + 1;",
              "                continue;",
              "            }",
              "            else {",
              "                //SFT('2');",
              "",
              "                for(i = 0; i < BonusCount(); i = i + 1)",
              "                {",
              "                    if(!BonusIsSpecial(i)) continue;",
              "                    temp_str_2 = BonusNumInCfg(i);",
              "                    //Проверяем соответствие бонуса текущему ГТУ",
              "                    temp_int = CT('MicroModuls.' + temp_str_2 + '.Priority');",
              "                    if(8.0 * (0.01 * temp_int) > GalaxyTechLevel()) continue;",
              "",
              "                    if(LvlUpgrade == 1) {",
              "                        if(findsubstr(CT('MicroModuls.' + temp_str_2 + '.Name'),'III')) continue;",
              "                        if(findsubstr(CT('MicroModuls.' + temp_str_2 + '.Name'),'II')) continue;",
              "                    }",
              "                    if(LvlUpgrade == 2) {",
              "                        if(findsubstr(CT('MicroModuls.' + temp_str_2 + '.Name'),'III')) continue;",
              "                    }",
              "                    if(LvlUpgrade == 4) {",
              "                        if(findsubstr(CT('MicroModuls.' + temp_str_2 + '.Name'),'I') && !findsubstr(CT('MicroModuls.' + temp_str_2 + '.Name'),'III') && !findsubstr(CT('MicroModuls.' + temp_str_2 + '.Name'),'II')) continue;",
              "                    }",
              "                    if(LvlUpgrade == 5) {",
              "                        if(!findsubstr(CT('MicroModuls.' + temp_str_2 + '.Name'),'III') && !findsubstr(CT('MicroModuls.' + temp_str_2 + '.Name'),'I') && !findsubstr(CT('MicroModuls.' + temp_str_2 + '.Name'),'II')) continue;",
              "                    }",
              "                    //SFT('3');",
              "",
              "                    //if(ItemOwner(tdwd2) != None)",
              "                    //{",
              "                        if(!MayAddBonusToEq(i, tdwd2))",
              "                        {",
              "                            //Проверка на соответствие акрина типу данного предмета с учётом замены предмета при акринации",
              "                            temp_str_3 = CT('MicroModuls.' + temp_str_2 + '.ImitatedEquipType');",
              "                            if(temp_str_3 != '')",
              "                            {",
              "                                //Узнаём тип предмета, на который необходимо подменить деакринированный",
              "                                temp_int_2 = GetValueFromScript('', GetParFromString(temp_str_3, ',', 0, 1));",
              "                                if(temp_int_2 == ItemType(tdwd2))",
              "                                {",
              "                                    if(temp_int_2 == t_CustomWeapon)",
              "                                    {",
              "                                        //Узнаём тип кастомного оружия",
              "                                        temp_str_4 = GetParFromString(temp_str_3, ',', 1, 1);",
              "                                        if(temp_str_4 != CustomWeaponType(tdwd2)) continue;",
              "                                    }",
              "                                }",
              "                                else continue;",
              "                            }",
              "                            else continue;",
              "                        }",
              "                    //}",
              "",
              "                    //Если акрин оказался совместим с данным предметом",
              "                    //Добавляем возможный акрин в массив",
              "                    ArrayAdd(akrin_num_array, i);",
              "",
              "                    //SFT('4');",
              "                }",
              "",
              "                //Случайно определяем акрин, который будет наложен на предмет (если цикл нашёл хоть один подходящий)",
              "                if(ArrayDim(akrin_num_array) > 1) {",
              "                    chosen_akrin = akrin_num_array[Rnd(1, ArrayDim(akrin_num_array) - 1)];",
              "                    EqSpecial(tdwd2,chosen_akrin);",
              "                    result = 1;",
              "                }",
              "                else {",
              "                    result = 3;",
              "                }",
              "            }",
              "            //SFT('05');",
              "        }",
              "    }",
              "}",
              "",
              "// RandomWeapon()",
              "// GiveEq(ship, eq_type, eq_size, eq_lvl)",
              "// GiveAllEq(ship, lvl, eq_cnt)",
              "// Trainship(ship, lvl)",
              "// Upgradeship(ship, lvl)",
              "",
              "// Улучшение характеристик корабля"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  660,
          "Pos.y":  -140,
          "Parent":  -1,
          "#":  17,
          "Code.Type":  "Init",
          "Code":          
          [
              "buy_date = CurTurn(); // дата последней постройки кораблей",
              "//cost_multiplier = 1.0; // множитель стоимости улучшений, увеличивается при каждом улучшении",
              "//accepted = 0; // принял ли игрок предложение спонсировать постройку",
              "",
              "//NRangers = 1; // количество кораблей",
              "//LvlFreq = 1; // частота постройки",
              "//NItems = 1; // количество оборудки",
              "//LvlSkills = 1; // повышение навыков",
              "//LvlUpgrade = 1; // улучшение оборудки",
              "",
              "money = newarray(5); // начальный капитал пиратов, увеличивается при каждом улучшении",
              "LvlHullSize = newarray(5); // размер корпуса",
              "LvlHullAcrin = newarray(5); // качество акрина",
              "LvlEq = newarray(5); // качество оборудки",
              "for (i = 0; i < 5; i = i + 1) {",
              "    money[i] = 10.0;",
              "    LvlHullSize[i] = 1;",
              "    LvlHullAcrin[i] = 1;",
              "    LvlEq[i] = 1;",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  430,
          "Pos.y":  -250,
          "Parent":  -1,
          "#":  18,
          "Code.Type":  "Init",
          "Code":          
          [
              "// Функция создания рейнджера и изменения его характеристик",
              "// rc - ЦР, на котором появится рейнджер",
              "// n - его номер (n=0,1,2,3,4)",
              "function BuyNewRanger(rc, n) {",
              "    ship = BuyPirate(PlanetPirateClan(), money[n]);",
              "",
              "    str tstr;",
              "",
              "    if (prob(0.25)) {",
              "        random = RndObject(Maloc, Gaal, ship);",
              "        ShipPilotRace(ship, random);",
              "        ShipOwner(ship, random);",
              "        ItemOwner(ShipItems(ship, 0), random);",
              "        Chameleon(ship);",
              "    }",
              "",
              "    // Даем корпус с нужными параметрами",
              "    ItemSize(ShipItems(ship, 0), Rnd(0.75 * HullSize(n), 1.25 * HullSize(n)));",
              "    power = RandomAcrynPower(LvlHullAcrin[n]); //сила акрина от 0 (нет акрина) до 4 (уникальный акрин)",
              "    //if (test) power = 4;",
              "    if (power != 0) {",
              "        acryn = RandomAcryn(power, ship, ShipOwner(ship));",
              "",
              "        //if (power == 1) {}",
              "        //if (power == 2) {}",
              "        //if (power == 3) {}",
              "        if(power == 4) {",
              "            admirals_cnt = admirals_cnt + 1;",
              "            ShipMoney(ship, round(6.0 * ShipMoney(ship))); // Повышаем капитал в 6.0 раз",
              "            while (GetShipPirateRank(ship) < 6) { // Повышаем звание до Хана",
              "                ShipPirateRankPoints(ship, ShipNextPirateRankPoints(ship));",
              "                RaisePirateRank(ship);",
              "            }",
              "            ItemSize(ShipItems(ship, 0), round(1.3 * ItemSize(ShipItems(ship, 0)))); // Увеличиваем корпус на 20%",
              "",
              "            tstr = Format(CT('Script.Cat_ZelPirates.KhanNews.'+Rnd(1,CT('Script.Cat_ZelPirates.KhanNews.Count'))),'name',ShortName(ship));",
              "            AddPlanetNews(tstr);",
              "",
              "            NewsAdd(tstr);",
              "            Sound('Sound.NewMsg');",
              "",
              "            if(Rnd(1,3) == 3) {",
              "                //Наш хан - грозный борец с Коалицией",
              "                int y1 = Rnd(90,150);",
              "                int y2 = Rnd(15,30);",
              "                int y4 = Rnd(20,40);",
              "                ShipStatistic(ship,5,y1);",
              "                ShipStatistic(ship,2,y2);",
              "                ShipStatistic(ship,3,Rnd(6,15));",
              "                ShipStatistic(ship,8,y4);",
              "            }",
              "            else {",
              "                //А этот хан - среднестатистический борец с жомиками",
              "                y1 = Rnd(20,40);",
              "                y2 = Rnd(100,200);",
              "                y4 = Rnd(15,30);",
              "                ShipStatistic(ship,5,y1);",
              "                ShipStatistic(ship,2,y2);",
              "                ShipStatistic(ship,3,Rnd(6,15));",
              "                ShipStatistic(ship,8,y4);",
              "            }",
              "            ShipStatistic(ship,0,ShipStatistic(ship,0)+y1+y2+y4);",
              "            SetShipExpByType(ship,Rnd(300000,400000),0);",
              "",
              "            //Спецбонусы по просьбе заказчика :)",
              "            ShipSpecialBonuses(ship,bonWEnergy,CT('Script.Cat_ZelPirates.KhanBuffs.Energy'));",
              "            ShipSpecialBonuses(ship,bonWSplinter,CT('Script.Cat_ZelPirates.KhanBuffs.Splinter'));",
              "            ShipSpecialBonuses(ship,bonWMissile,CT('Script.Cat_ZelPirates.KhanBuffs.Missile'));",
              "            ShipSpecialBonuses(ship,bonWRadius,CT('Script.Cat_ZelPirates.KhanBuffs.WRadius'));",
              "            ShipSpecialBonuses(ship,bonMissileSpeed,CT('Script.Cat_ZelPirates.KhanBuffs.MiSpeed'));",
              "            ShipSpecialBonuses(ship,bonAttacks,CT('Script.Cat_ZelPirates.KhanBuffs.Attacks'));",
              "",
              "            ShipSpecialBonuses(ship,bonHull,CT('Script.Cat_ZelPirates.KhanBuffs.Armor'));",
              "            ShipSpecialBonuses(ship,bonDef,CT('Script.Cat_ZelPirates.KhanBuffs.Def'));",
              "            ShipSpecialBonuses(ship,bonDroid,CT('Script.Cat_ZelPirates.KhanBuffs.Droid'));",
              "",
              "            ShipSpecialBonuses(ship,bonSpeed,CT('Script.Cat_ZelPirates.KhanBuffs.Speed'));",
              "        }",
              "",
              "        // Навешиваем акрин на корпус",
              "        if(acryn != -1 && acryn != 0) {",
              "            SpecialToEquipment(acryn, ShipItems(ship, 0));",
              "        }",
              "    }",
              "    HullHP(ship, ItemSize(ShipItems(ship, 0)));",
              "    Chameleon(ship);",
              "",
              "    if(HullSeries(ShipEqInSlot(ship,t_Hull)) == 'HullOldfag') {",
              "        HullSeries(ShipEqInSlot(ship,t_Hull),-1);",
              "        HullSeries(ShipEqInSlot(ship,t_Hull),99);",
              "    }",
              "",
              "    // Удаляем всю оборудку",
              "    for (i = ShipItems(ship) - 1; i > 0; i = i - 1) FreeItem(GetItemFromShip(ship, i));",
              "",
              "    // Даем новую оборудку",
              "    GiveAllEq(ship, LvlEq[n], toDiap(NItems + (power == 4), 1, 5));",
              "    ArrangeItems(ship);",
              "",
              "    // Улучшаем и тренируем рейнджера в соответствии с общими улучшениями отраслей",
              "    UpgradeShip(ship, toDiap(LvlUpgrade + (power == 4), 1, 5));",
              "    TrainShip(ship, toDiap(LvlSkills + (power == 4), 1, 5));",
              "    /*int k = 0;",
              "    if(LvlUpgrade == 1) k = 4;",
              "    if(LvlUpgrade == 2) k = 6;",
              "    if(LvlUpgrade == 3) k = 8;",
              "    if(LvlUpgrade == 4) k = 10;",
              "    if(LvlUpgrade == 5) k = 8;",
              "",
              "    for(i=0;i<k;i=i+1) {",
              "        AcrynEquip(ship);",
              "    }*/",
              "",
              "    ShipRefit(ship); //рефитаем после выдачи и улучшения оборудки",
              "    for(i=0;ShipItems(ship)>i;i=i+1) {",
              "        if(!ItemIsInUse(ShipItems(ship,i))) continue;",
              "        if(ItemType(ShipItems(ship,i)) < t_Hull) continue;",
              "",
              "        if(ItemLevel(ShipItems(ship,i)) < GalaxyTechLevel() - 1) ItemLevel(ShipItems(ship,i),max(1,GalaxyTechLevel() - Rnd(0,2)));",
              "    }",
              "    for(i=0;ShipItems(ship)>i;i=i+1) {",
              "        if(!ItemIsInUse(ShipItems(ship,i))) continue;",
              "        if(ItemType(ShipItems(ship,i)) < t_Hull) continue;",
              "",
              "        if(ItemLevel(ShipItems(ship,i)) < GalaxyTechLevel() - 1) ItemLevel(ShipItems(ship,i),max(1,GalaxyTechLevel() - Rnd(0,2)));",
              "    }",
              "    for(i=0;ShipItems(ship)>i;i=i+1) {",
              "        if(!ItemIsInUse(ShipItems(ship,i))) continue;",
              "        if(ItemType(ShipItems(ship,i)) < t_Hull) continue;",
              "",
              "        if(ItemLevel(ShipItems(ship,i)) < GalaxyTechLevel() - 1) ItemLevel(ShipItems(ship,i),max(1,GalaxyTechLevel() - Rnd(0,2)));",
              "    }",
              "    for(i=0;ShipItems(ship)>i;i=i+1) {",
              "        if(!ItemIsInUse(ShipItems(ship,i))) continue;",
              "        if(ItemType(ShipItems(ship,i)) < t_Hull) continue;",
              "",
              "        if(ItemLevel(ShipItems(ship,i)) < GalaxyTechLevel() - 1) ItemLevel(ShipItems(ship,i),max(1,GalaxyTechLevel() - Rnd(0,2)));",
              "    }",
              "",
              "    if(NItems == 5) {",
              "        for(i=0;ShipSlots(ship,2)>i;i=i+1) {",
              "            if(ShipEqInSlot(ship,t_Artefact,i)) continue;",
              "            if(Rnd(1,5) == 5) {",
              "                dword arte=CreateArt(Rnd(t_ArtefactHull,t_ArtFastRacks),ShipPilotRace(ship));",
              "                if(ItemType(arte) == t_ArtefactTransmitter) arte=CreateArt(t_ArtefactHull,ShipPilotRace(ship));",
              "                if(ItemType(arte) == t_ArtefactBomb) arte=CreateArt(t_ArtefactSpeed,ShipPilotRace(ship));",
              "                if(ItemType(arte) == t_ArtefactTranclucator) arte=CreateArt(t_ArtPDTurret,ShipPilotRace(ship));",
              "                if(ItemType(arte) == t_ArtBlackHole) arte=CreateArt(t_ArtefactAntigrav,ShipPilotRace(ship));",
              "                if(ItemType(arte) == t_ArtDefToArms1) arte=CreateArt(t_ArtefactDroid,ShipPilotRace(ship));",
              "                if(ItemType(arte) == t_ArtDefToArms2) arte=CreateArt(t_ArtefactNano,ShipPilotRace(ship));",
              "                if(ItemType(arte) == t_ArtWeaponToSpeed) arte=CreateArt(t_ArtEnergyDef,ShipPilotRace(ship));",
              "                if(ItemType(arte) == t_ArtArtefactor) arte=CreateArt(t_ArtForsage,ShipPilotRace(ship));",
              "                ItemDurability(arte,100);",
              "                NoDropItem(arte,1);",
              "                AddItemToShip(ship,arte);",
              "                ItemIsInUse(arte,ship,1);",
              "            }",
              "        }",
              "    }",
              "",
              "    // Перемещаем рейнджера в ЦР",
              "    TransferShip(ship, rc);",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  1010,
          "Pos.y":  230,
          "Parent":  -1,
          "#":  24,
          "Code.Type":  "DialogBegin",
          "Code":          
          [
              "if (accepted)",
              "    AddDialogInject('Verbovka', '', \"Мне нужен доступ к вашей таблице в Гаалакселе\", 0);",
              "else",
              "    AddDialogInject('Begin', '', \"Дела в баре сейчас совсем кислые, нескем выпить, где все наши бравые бродяги?\", 0);"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  1010,
          "Pos.y":  500,
          "Parent":  -1,
          "#":  36,
          "Code.Type":  "Turn",
          "Code":          
          [
              "InjectAnswer('Verbovka', \"Далее\", 0);",
              "accepted = 1;",
              "//Чтобы не сильно напрягать",
              "//LvlFreq = 5;",
              "//NItems = 5;",
              "//LvlSkills = 5;",
              "//LvlUpgrade = 5;"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  1490,
          "Pos.y":  140,
          "Parent":  -1,
          "#":  68,
          "Code.Type":  "Turn",
          "Code":          
          [
              "ShipMoney(Player(), ShipMoney(Player()) - cost);",
              "",
              "if ((branch >= 0) && (branch <= 4))",
              "    for (i = 0; i <= 4; i = i + 1)",
              "        money[i] = money[i] + branch_money_bonus[branch];",
              "else",
              "    money[current_ranger] = money[current_ranger] + branch_money_bonus[branch];",
              "",
              "cost_multiplier = cost_multiplier + branch_cost_multiplier_inc[branch] * branch_level;",
              "",
              "     if (branch == 0) NRangers = NRangers + 1;",
              "else if (branch == 1) LvlFreq = LvlFreq + 1;",
              "else if (branch == 2) NItems = NItems + 1;",
              "else if (branch == 3) LvlSkills = LvlSkills + 1;",
              "else if (branch == 4) LvlUpgrade = LvlUpgrade + 1;",
              "else if (branch == 5) LvlHullSize[current_ranger] = LvlHullSize[current_ranger] + 1;",
              "else if (branch == 6) LvlHullAcrin[current_ranger] = LvlHullAcrin[current_ranger] + 1;",
              "else if (branch == 7) LvlEq[current_ranger] = LvlEq[current_ranger] + 1;",
              "",
              "Sound('Sound.Buy');"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  1340,
          "Pos.y":  -80,
          "Parent":  -1,
          "#":  74,
          "Code.Type":  "Turn",
          "Code":          
          [
              "branch_level = NRangers;",
              "branch = 0;"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  1340,
          "Pos.y":  -60,
          "Parent":  -1,
          "#":  75,
          "Code.Type":  "Turn",
          "Code":          
          [
              "branch_level = LvlFreq;",
              "branch = 1;"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  1340,
          "Pos.y":  -40,
          "Parent":  -1,
          "#":  76,
          "Code.Type":  "Turn",
          "Code":          
          [
              "branch_level = NItems;",
              "branch = 2;"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  1340,
          "Pos.y":  -20,
          "Parent":  -1,
          "#":  77,
          "Code.Type":  "Turn",
          "Code":          
          [
              "branch_level = LvlSkills;",
              "branch = 3;"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  1340,
          "Pos.y":  0,
          "Parent":  -1,
          "#":  78,
          "Code.Type":  "Turn",
          "Code":          
          [
              "branch_level = LvlUpgrade;",
              "branch = 4;"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  1220,
          "Pos.y":  190,
          "Parent":  -1,
          "#":  85,
          "Code.Type":  "Turn",
          "Code":          
          [
              "current_ranger = 0;"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  1220,
          "Pos.y":  210,
          "Parent":  -1,
          "#":  86,
          "Code.Type":  "Turn",
          "Code":          
          [
              "current_ranger = 1;"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  1220,
          "Pos.y":  230,
          "Parent":  -1,
          "#":  87,
          "Code.Type":  "Turn",
          "Code":          
          [
              "current_ranger = 2;"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  1220,
          "Pos.y":  250,
          "Parent":  -1,
          "#":  88,
          "Code.Type":  "Turn",
          "Code":          
          [
              "current_ranger = 3;"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  1220,
          "Pos.y":  270,
          "Parent":  -1,
          "#":  89,
          "Code.Type":  "Turn",
          "Code":          
          [
              "current_ranger = 4;"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  1340,
          "Pos.y":  210,
          "Parent":  -1,
          "#":  90,
          "Code.Type":  "Turn",
          "Code":          
          [
              "branch_level = LvlHullSize[current_ranger];",
              "branch = 5;"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  1340,
          "Pos.y":  230,
          "Parent":  -1,
          "#":  91,
          "Code.Type":  "Turn",
          "Code":          
          [
              "branch_level = LvlHullAcrin[current_ranger];",
              "branch = 6;"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  1340,
          "Pos.y":  250,
          "Parent":  -1,
          "#":  92,
          "Code.Type":  "Turn",
          "Code":          
          [
              "branch_level = LvlEq[current_ranger];",
              "branch = 7;"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  1410,
          "Pos.y":  140,
          "Parent":  -1,
          "#":  104,
          "Code.Type":  "Turn",
          "Code":          
          [
              "cost = cost_multiplier * GalaxyMoney(branch_level - 1) * branch_cost[branch];"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  1550,
          "Pos.y":  140,
          "Parent":  -1,
          "#":  105,
          "Code.Type":  "Turn",
          "Code":          
          [
              "branch_level = branch_level + 1;"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  1470,
          "Pos.y":  200,
          "Parent":  -1,
          "#":  108,
          "Code.Type":  "DialogBegin",
          "Code":          
          [
              "//В начало диалога"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  520,
          "Pos.y":  -250,
          "Parent":  -1,
          "#":  111,
          "Code.Type":  "Init",
          "Code":          
          [
              "function HullSize(rangerN) {",
              "    result = ((1800.0 - GalaxyDiffLevels()) * (100.0 + GalaxyTechLevel() * 5.0) * (10.0 + 18.0 * LvlHullSize[rangerN])) / 20000.0;",
              "}",
              "",
              "function BuildingTime() {",
              "    result = ((12.0 + ShipPilotRace(Player())) * ((1000.0 + GalaxyDiffLevels()) * (30.0 - 5.0 * LvlFreq) * (GalaxyRangers() * 100.0 / (12.0 + 4.0 * LvlFreq)) + 1000000.0 - 100000.0 * LvlFreq) / 100000.0) / 10.0;",
              "    result = round(result);",
              "    //if (LvlFreq == 5) // Просьба Кота (тестовый спавн евери дей если вкачано на полностью)",
              "    //result = 0;",
              "}",
              "",
              "// Основные формулы"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  770,
          "Pos.y":  -140,
          "Parent":  -1,
          "#":  115,
          "Code.Type":  "Init",
          "Code":          
          [
              "//",
              "//СТРОКОВЫЕ ПОДСТАНОВКИ",
              "//",
              "StrLvlFreq = newarray(5);",
              "StrLvlFreq[0] = \"расказываем в барак про \\\"Особое предложение\\\"\";",
              "StrLvlFreq[1] = \"расклеиваем повсюду плакаты \\\"Мама-анархрия, Папа-стакан янвелба\\\"\";",
              "StrLvlFreq[2] = \"устраиваем тематические сходки, почитателей Рачехана\";",
              "StrLvlFreq[3] = \"ведём активную агитационную программу в пеленгнете\";",
              "StrLvlFreq[4] = \"устраиваем массовую пропаганду анархического движения, начиная от разбрасывания листовок и заканчивая формированием в литературе образа крутого парня - Бродяги с гиперпространства\";",
              "",
              "StrNRangers = newarray(5);",
              "StrNRangers[0] = \"только один класс салаг\";",
              "StrNRangers[1] = \"два класса обучения салаг\";",
              "StrNRangers[2] = \"целых три класса салаг\";",
              "StrNRangers[3] = \"четыре класса для обучения салаг\";",
              "StrNRangers[4] = \"полноценное орбитальное училище вмещающее пять классов салаг\";",
              "",
              "StrNItems = newarray(5);",
              "StrNItems[0] = \"минимальный комплект оборудования, с которым возможен космический полёт\";",
              "StrNItems[1] = \"коплект джентельмена - пушка, дроид и радар! В общем самое необходимое\";",
              "StrNItems[2] = \"среднее количество оборудования, практически полноценный комплект\";",
              "StrNItems[3] = \"большое количество оборудования, наши салаги оснащены не хуже военных\";",
              "StrNItems[4] = \"полноценный комплект оборудования, вооружения и возможно даже парочку артефактов\";",
              "",
              "StrLvlSkills = newarray(5);",
              "StrLvlSkills[0] = \"берем в братство всех желающих\";",
              "StrLvlSkills[1] = \"берем в братство всех прошедших минимальное обучение в симуляторах космеческого боя\";",
              "StrLvlSkills[2] = \"берем в братство всех прошедших испытания в симуляторах космического, планетрного и гиперпространственного боя\";",
              "StrLvlSkills[3] = \"берем в братство отчаявшихся выпускников лётных училищ или бывших военных и проводим с ними углубленные тренировки\";",
              "StrLvlSkills[4] = \"берем в братство отчаявшихся профессиональных пилотов и дополнительно обучаем их всевозможным навыкам\";",
              "",
              "StrLvlUpgrade = newarray(5);",
              "StrLvlUpgrade[0] = \"несколько малоков-слесарей\";",
              "StrLvlUpgrade[1] = \"малокско-человеческая группа слесарей пятого разряда\";",
              "StrLvlUpgrade[2] = \"практиканты технических вузов с Рахиша\";",
              "StrLvlUpgrade[3] = \"Доминион \\\"Черная Жемчужина\\\"\";",
              "StrLvlUpgrade[4] = \"Величайшие безумные учёные со всей галактики\";",
              "",
              "StrLvlHullSize = newarray(5);",
              "StrLvlHullSize[0] = \"корпус минимального размера, сравнимый с гражданской авиацией\";",
              "StrLvlHullSize[1] = \"корпус маленького размера, как и Васи с соседней базы\";",
              "StrLvlHullSize[2] = \"корпус среднего размера, оптимальный вариант для начинающего разбойника\";",
              "StrLvlHullSize[3] = \"корпус большого размера, такие размеры обычно у торговых судов, но нашим нужно транспортировать рэкетированный груз\";",
              "StrLvlHullSize[4] = \"корпус огромного размера, больше только у флагманов и то не всегда\";",
              "",
              "StrLvlHullAcrin = newarray(5);",
              "StrLvlHullAcrin[0] = \"частниками без лицухи, ну так нам же дешевле\";",
              "StrLvlHullAcrin[1] = \"частники, бывшие лицензенты, перешедшие на нашу сторону\";",
              "StrLvlHullAcrin[2] = \"в одной нарко-лабе, подприсмотром спецов, у них явно есть какой-то \\\"план\\\"\";",
              "StrLvlHullAcrin[3] = \"на специально захваченом предприятии по акринации\";",
              "StrLvlHullAcrin[4] = \"лучшими безумцами галактики на одном из доминионов\";",
              "",
              "StrLvlEq = newarray(5);",
              "StrLvlEq[0] = \"скупаем оптом на распродажах в бизнец-центрах\";",
              "StrLvlEq[1] = \"покупаем б/у хорошего качества у бывших боевых пилотов \";",
              "StrLvlEq[2] = \"создаем своими силами закупая детали на черном рынке\";",
              "StrLvlEq[3] = \"рэкетируем лучший массмаркет с индустриальных планет\";",
              "StrLvlEq[4] = \"производим на специализированных заводах под заказ\";"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  520,
          "Pos.y":  -140,
          "Parent":  -1,
          "#":  124,
          "Code.Type":  "Init",
          "Code":          
          [
              "// множитель стоимости каждого улучшения",
              "branch_cost = newarray(8);",
              "branch_cost[0] = 10;",
              "branch_cost[1] = 20;",
              "branch_cost[2] = 10;",
              "branch_cost[3] = 15;",
              "branch_cost[4] = 7;",
              "branch_cost[5] = 3;",
              "branch_cost[6] = 2;",
              "branch_cost[7] = 2;",
              "",
              "// бонус к капиталу от каждого улучшения",
              "branch_money_bonus = newarray(8);",
              "branch_money_bonus[0] = 4;",
              "branch_money_bonus[1] = 6;",
              "branch_money_bonus[2] = 3;",
              "branch_money_bonus[3] = 5;",
              "branch_money_bonus[4] = 2;",
              "branch_money_bonus[5] = 3;",
              "branch_money_bonus[6] = 5;",
              "branch_money_bonus[7] = 4;",
              "",
              "// приращение cost_multiplier при каждом улучшении",
              "branch_cost_multiplier_inc = newarray(8);",
              "branch_cost_multiplier_inc[0] = 0.2;",
              "branch_cost_multiplier_inc[1] = 0.3;",
              "branch_cost_multiplier_inc[2] = 0.15;",
              "branch_cost_multiplier_inc[3] = 0.25;",
              "branch_cost_multiplier_inc[4] = 0.1;",
              "branch_cost_multiplier_inc[5] = 0.03;",
              "branch_cost_multiplier_inc[6] = 0.05;",
              "branch_cost_multiplier_inc[7] = 0.04;"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  440,
          "Pos.y":  150,
          "Parent":  -1,
          "#":  142,
          "Code.Type":  "Turn",
          "Code":          
          [
              "SFT('CurTurn: ' + CurTurn() + ' Building time: ' + BuildingTime() + ' Build date: ' + buy_date + BuildingTime() + ' Last build: ' + buy_date);"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  550,
          "Pos.y":  -250,
          "Parent":  -1,
          "#":  143,
          "Code.Type":  "Init",
          "Code":          
          [
              "// Случайное действительно число от 0.0 до 1.0 с шагом 1e-9",
              "function random_real() {",
              "    result = 1.0 * Rnd(0, 1000000000) / 1000000000.0;",
              "}",
              "",
              "// Функции для взвешенного случайного выбора из нескольких значений (надеюсь я нигде не опечатался)",
              "// w1 - вес, a - значение",
              "// Сумма весов не обязательно равна 1",
              "function choice2(w1, a, w2, b) {",
              "    if (w1 + w2 == 0) {",
              "        result = choice2(1.0, a, 1.0, b);",
              "    } else {",
              "        if (random_real() < 1.0 * w1 / (0.0 + w1 + w2)) {",
              "            result = a;",
              "        } else {",
              "            result = b;",
              "        }",
              "    }",
              "}",
              "",
              "function choice4(w1, a, w2, b, w3, c, w4, d) {",
              "    result = choice2(",
              "        w1 + w2, choice2(w1, a, w2, b),",
              "        w3 + w4, choice2(w3, c, w4, d)",
              "    );",
              "}",
              "",
              "function choice8(w1, a, w2, b, w3, c, w4, d, w5, e, w6, f, w7, g, w8, h) {",
              "    result = choice2(",
              "        w1 + w2 + w3 + w4, choice4(w1, a, w2, b, w3, c, w4, d),",
              "        w5 + w6 + w7 + w8, choice4(w5, e, w6, f, w7, g, w8, h)",
              "    );",
              "}",
              "",
              "//function choice16(w1, a, w2, b, w3, c, w4, d, w5, e, w6, f, w7, g, w8, h, w9, i, w10, j, w11, k, w12, l, w13, m, w14, n, w15, p, w16, p) {",
              "//    result = choice2(",
              "//        w1 + w2 + w3 + w4 + w5 + w6 + w7 + w8, choice8(w1, a, w2, b, w3, c, w4, d, w5, e, w6, f, w7, g, w8, h),",
              "//        w9 + w10 + w11 + w12 + w13 + w14 + w15 + w16, choice8(w9, i, w10, j, w11, k, w12, l, w13, m, w14, n, w15, p, w16, p)",
              "//    );",
              "//}",
              "",
              "function choice3(w1, a, w2, b, w3, c) {",
              "    result = choice4(w1, a, w2, b, w3, c, 0, 0);",
              "}",
              "",
              "function choice5(w1, a, w2, b, w3, c, w4, d, w5, e) {",
              "    result = choice8(w1, a, w2, b, w3, c, w4, d, w5, e, 0, 0, 0, 0, 0, 0);",
              "}",
              "",
              "function choice6(w1, a, w2, b, w3, c, w4, d, w5, e, w6) {",
              "    result = choice8(w1, a, w2, b, w3, c, w4, d, w5, e, w6, f, 0, 0, 0, 0);",
              "}",
              "",
              "function choice7(w1, a, w2, b, w3, c, w4, d, w5, e, w6, f, w7) {",
              "    result = choice8(w1, a, w2, b, w3, c, w4, d, w5, e, w6, f, w7, g, 0, 0);",
              "}",
              "",
              "// Приводит значение val к диапазону (mn,mx)",
              "function toDiap(val, mn, mx) {",
              "    result = min(max(val, mn), mx);",
              "    //result = choice3(",
              "    //    val < mn, mn,",
              "    //    val > mx, mx,",
              "    //    val >= mn && val <= mx, val",
              "    //);",
              "}",
              "",
              "// Возвращает истину (1) с вероятностью p, иначе - ложь (0)",
              "function prob(p) {",
              "    result = choice2(1.0 - p, 0, 0.0 + p, 1);",
              "}",
              "",
              "// random_real()",
              "// choiceN(weight_i, val_i, ...)",
              "// toDiap(val, min, max)",
              "// prob(p)",
              "",
              "// Функции для рандомизации"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  460,
          "Pos.y":  -250,
          "Parent":  -1,
          "#":  144,
          "Code.Type":  "Init",
          "Code":          
          [
              "// Возвращает силу акрина в зависимости от уровня улучшения акрина рейнджера",
              "function RandomAcrynPower(lvl) {",
              "    if (lvl == 1) {",
              "        result = choice5(",
              "            0.800, 0,",
              "            0.170, 1,",
              "            0.027, 2,",
              "            0.003, 3,",
              "            0.000 * exp(-0.7 * admirals_cnt), 4",
              "        );",
              "    }",
              "    if (lvl == 2) {",
              "        result = choice5(",
              "            0.400, 0,",
              "            0.500, 1,",
              "            0.090, 2,",
              "            0.010, 3,",
              "            0.001 * exp(-0.7 * admirals_cnt), 4",
              "        );",
              "    }",
              "    if (lvl == 3) {",
              "        result = choice5(",
              "            0.050, 0,",
              "            0.650, 1,",
              "            0.250, 2,",
              "            0.050, 3,",
              "            0.003 * exp(-0.7 * admirals_cnt), 4",
              "        );",
              "    }",
              "    if (lvl == 4) {",
              "    result = choice5(",
              "            0.010, 0,",
              "            0.400, 1,",
              "            0.400, 2,",
              "            0.200, 3,",
              "            0.006 * exp(-0.7 * admirals_cnt), 4",
              "        );",
              "    }",
              "    if (lvl == 5) {",
              "        result = choice5(",
              "            0.001, 0,",
              "            0.009, 1,",
              "            0.500, 2,",
              "            0.400, 3,",
              "            0.050 * exp(-0.7 * admirals_cnt), 4",
              "        );",
              "    }",
              "}",
              "",
              "// Возвращает случайный акрин по силе и расе",
              "function RandomAcryn(power, ship, race) {",
              "    result = -1;",
              "    cnt = 0; // Количество бросков номера. При cnt > 100 цикл завершается",
              "",
              "    // Есть 4 категории акринов:",
              "    //    1 - слабые",
              "    //    2 - средние",
              "    //    3 - сильные",
              "    //    4 - уникальные (вероятность порядка 1%) (получают доп. бонусы)",
              "",
              "    // if ((random == <rndid>) && prob(0.20) && (race == Maloc || race == Gaal) && (race != People)) result = FindBonusByName(<str>);",
              "    //     prob(0.20) - верно с вероятностью 20%",
              "    //     (race == Maloc || race == Gaal) && (race != People) - условия на расы",
              "    //     FindBonusByName(<str>); - поиск по имени",
              "    //     FindBonusByCustomTag(<str>); - поиск по тегу",
              "    //     FindBonusByNameInCfg(<str>); - поиск по имени раздела в ланге",
              "    //     если использовать тот же <rndid>, то бонус перезапишется (если вероятность не снижена)",
              "    while (result == -1 || result == 0) {",
              "        cnt = cnt + 1;",
              "        if (cnt > 100) break;",
              "",
              "        if (power == 1) {",
              "            random = Rnd(1, 31);",
              "            if ((random == 1)) result = FindBonusByNameInCfg('353'); //Быстрый корпус I",
              "            if ((random == 2)) result = FindBonusByNameInCfg('357'); //Неуязвимый корпус I",
              "            //if ((random == 3)) result = FindBonusByNameInCfg('361'); //Ремонтный корпус I",
              "            if ((random == 3)) result = FindBonusByNameInCfg('365'); //Миоплазменный корпус I",
              "            if ((random == 4)) result = FindBonusByNameInCfg('369'); //Пигамарный корпус I",
              "            //if ((random == 6)) result = FindBonusByNameInCfg('472'); //Корпус \"Молния\" I",
              "            //if ((random == 7)) result = FindBonusByNameInCfg('476'); //Корпус \"Броненосец\" I",
              "            if ((random == 5) && (race == Gaal)) result = FindBonusByNameInCfg('468'); //Корпус \"Честный ренегал\" I",
              "            if ((random == 6) && (race == Peleng)) result = FindBonusByNameInCfg('460'); //Корпус \"Добрый лякуша\" I",
              "            if ((random == 7) && (race == People)) result = FindBonusByNameInCfg('464'); //Корпус \"Мирный корсар\" I",
              "            if ((random == 8) && (race == People)) result = FindBonusByNameInCfg('480'); //Корпус \"Ушастик\" I",
              "            if ((random == 9)) result = FindBonusByNameInCfg('352'); // Болид",
              "",
              "            if ((random == 10) && prob(0.33)) result = FindBonusByCustomTag('LEOContentMod_Giperion_1_Hull'); // Гиперион I",
              "            if ((random == 11)) result = FindBonusByCustomTag('LEOLastHulls_G2_Hull'); // Черный призрак",
              "            if ((random == 12)) result = FindBonusByCustomTag('LEOLastHulls_G5_Hull'); // Цербер",
              "",
              "            if ((random == 13) && (race == Peleng)) result = FindBonusByName('Ара' + ' I');",
              "            if ((random == 14) && (race == People || race == Maloc)) result = FindBonusByName('Бамберга' + ' I');",
              "            if ((random == 15) && (race == Maloc)) result = FindBonusByName('Кабан' + ' I');",
              "            if ((random == 16) && (race == Fei)) result = FindBonusByName('Ястреб' + ' I');",
              "            if ((random == 17) && (race == Gaal)) result = FindBonusByName('Пантера' + ' I');",
              "            if ((random == 18) && (race == People || race == Peleng)) result = FindBonusByName('Акулёнок' + ' I');",
              "            if ((random == 19) && (race == Maloc)) result = FindBonusByNameInCfg('EvoGkvan_GkvanHull');",
              "            if ((random == 20) && (race == Fei)) result = FindBonusByNameInCfg('Cat_Ships_Shegramer');",
              "            if ((random == 21) && (race == People)) result = FindBonusByNameInCfg('Cat_Ships_Vyhr');",
              "            if ((random == 22) && (race == Peleng)) result = FindBonusByNameInCfg('Cat_Ships_Beshraflac');",
              "            if ((random == 23) && (race == Fei)) result = FindBonusByNameInCfg('Cat_Ships_Ellentanda');",
              "            if ((random == 24)) result = FindBonusByNameInCfg('Cat_Ships_Bongrabar');",
              "            if ((random == 25) && (race == Peleng)) result = FindBonusByNameInCfg('Cat_Ships_Chipshush');",
              "            if ((random == 26)) result = FindBonusByNameInCfg('Cat_Ships_Sharcun');",
              "            if ((random == 27) && (race == People)) result = FindBonusByNameInCfg('Cat_Ships_Horizont');",
              "            if ((random == 28) && (race == People)) result = FindBonusByNameInCfg('Cat_Ships_Trackvagn');",
              "            if ((random == 29) && (race == Maloc)) result = FindBonusByNameInCfg('Cat_Ships_Mishravec');",
              "            if ((random == 30) && (race == People || race == Fei)) result = FindBonusByName('Cat_Ships_Unsorted_Transport');",
              "            if ((random == 31) && (race == People)) result = FindBonusByNameInCfg('Cat_Ships_StarShip');",
              "",
              "        }",
              "",
              "        if (power == 2) {",
              "            random = Rnd(1, 32);",
              "            if ((random == 1)) result = FindBonusByNameInCfg('354'); //Быстрый корпус II",
              "            if ((random == 2)) result = FindBonusByNameInCfg('358'); //Неуязвимый корпус II",
              "            //if ((random == 3)) result = FindBonusByNameInCfg('362'); //Ремонтный корпус II",
              "            if ((random == 3)) result = FindBonusByNameInCfg('366'); //Миоплазменный корпус II",
              "            if ((random == 4)) result = FindBonusByNameInCfg('370'); //Пигамарный корпус II",
              "            //if ((random == 6)) result = FindBonusByNameInCfg('473'); //Корпус \"Молния\" II",
              "            //if ((random == 7)) result = FindBonusByNameInCfg('477'); //Корпус \"Броненосец\" II",
              "            if ((random == 5) && (race == Gaal)) result = FindBonusByNameInCfg('469'); //Корпус \"Честный ренегал\" II",
              "            if ((random == 6) && (race == Peleng)) result = FindBonusByNameInCfg('461'); //Корпус \"Добрый лякуша\" II",
              "            if ((random == 7) && (race == People)) result = FindBonusByNameInCfg('465'); //Корпус \"Мирный корсар\" II",
              "            if ((random == 8) && (race == People)) result = FindBonusByNameInCfg('481'); //Корпус \"Ушастик\" II",
              "            if ((random == 9)) result = FindBonusByNameInCfg('351'); // Скала",
              "",
              "",
              "            if ((random == 10) && prob(0.33)) result = FindBonusByCustomTag('LEOContentMod_Giperion_2_Hull'); // Гиперион II",
              "            if ((random == 11) && prob(0.33)) result = FindBonusByCustomTag('LEOContentMod_Giperion_3_Hull'); // Гиперион III",
              "            if ((random == 12)) result = FindBonusByCustomTag('LEOLastHulls_G1_Hull'); // Горизонт",
              "",
              "            if ((random == 13) && (race == Peleng)) result = FindBonusByName('Ара' + ' II');",
              "            if ((random == 14) && (race == People || race == Maloc)) result = FindBonusByName('Бамберга' + ' II');",
              "            if ((random == 15) && (race == Maloc)) result = FindBonusByName('Кабан' + ' II');",
              "            if ((random == 16) && (race == Fei)) result = FindBonusByName('Ястреб' + ' II');",
              "            if ((random == 17) && (race == Gaal)) result = FindBonusByName('Пантера' + ' II');",
              "            if ((random == 18) && (race == People || race == Peleng)) result = FindBonusByName('Акулёнок' + ' II');",
              "            if ((random == 19) && (race == People)) result = FindBonusByNameInCfg('Cat_Ships_Vyhr');",
              "            if ((random == 20) && (race == Maloc)) result = FindBonusByNameInCfg('Cat_Ships_Bigrabyrba');",
              "            if ((random == 21) && (race == Fei)) result = FindBonusByNameInCfg('Cat_Ships_Ellentanda');",
              "            if ((random == 22) && (race == Maloc)) result = FindBonusByNameInCfg('Cat_Ships_Gromodryn');",
              "            if ((random == 23)) result = FindBonusByNameInCfg('Cat_Ships_Hramgerb');",
              "            if ((random == 24) && (race == Peleng)) result = FindBonusByNameInCfg('Cat_Ships_Casholdsha');",
              "            if ((random == 25) && (race == Peleng)) result = FindBonusByNameInCfg('Cat_Ships_Chipshush');",
              "            if ((random == 26)) result = FindBonusByNameInCfg('Cat_Ships_Cvahonda');",
              "            if ((random == 27)) result = FindBonusByNameInCfg('Cat_Ships_Zvedavar');",
              "            if ((random == 28)) result = FindBonusByNameInCfg('Cat_Ships_Hellcat');",
              "            if ((random == 29)) result = FindBonusByNameInCfg('Cat_Ships_Piranha');",
              "            if ((random == 30)) result = FindBonusByNameInCfg('Cat_Enterprise');",
              "            if ((random == 31)) result = FindBonusByNameInCfg('Cat_Ships_Lucrehulk');",
              "            if ((random == 32) && (race == People)) result = FindBonusByNameInCfg('Cat_Ships_StarShip');",
              "        }",
              "",
              "        if (power == 3) {",
              "            random = Rnd(1, 45);",
              "            if ((random == 1)) result = FindBonusByNameInCfg('355'); //Быстрый корпус III",
              "            if ((random == 2)) result = FindBonusByNameInCfg('359'); //Неуязвимый корпус III",
              "            //if ((random == 3)) result = FindBonusByNameInCfg('363'); //Ремонтный корпус III",
              "            if ((random == 3)) result = FindBonusByNameInCfg('367'); //Миоплазменный корпус III",
              "            if ((random == 4)) result = FindBonusByNameInCfg('371'); //Пигамарный корпус III",
              "            //if ((random == 6)) result = FindBonusByNameInCfg('474'); //Корпус \"Молния\" III",
              "            //if ((random == 7)) result = FindBonusByNameInCfg('478'); //Корпус \"Броненосец\" III",
              "            if ((random == 5) && (race == Gaal)) result = FindBonusByNameInCfg('470'); //Корпус \"Честный ренегал\" III",
              "            if ((random == 6) && (race == Peleng)) result = FindBonusByNameInCfg('462'); //Корпус \"Добрый лякуша\" III",
              "            if ((random == 7) && (race == People)) result = FindBonusByNameInCfg('466'); //Корпус \"Мирный корсар\" III",
              "            if ((random == 8) && prob(0.33)) result = FindBonusByNameInCfg('356'); //Быстрый корпус IV",
              "            if ((random == 9) && prob(0.33)) result = FindBonusByNameInCfg('360'); //Неуязвимый корпус IV",
              "            //if ((random == 13) && prob(0.33)) result = FindBonusByNameInCfg('364'); //Ремонтный корпус IV",
              "            if ((random == 10) && prob(0.33)) result = FindBonusByNameInCfg('368'); //Миоплазменный корпус IV",
              "            if ((random == 11) && prob(0.33)) result = FindBonusByNameInCfg('372'); //Пигамарный корпус IV",
              "            //if ((random == 16) && prob(0.33)) result = FindBonusByNameInCfg('475'); //Корпус \"Молния\" IV",
              "            //if ((random == 17) && prob(0.33)) result = FindBonusByNameInCfg('479'); //Корпус \"Броненосец\" IV",
              "            if ((random == 12) && prob(0.33) && (race == Gaal)) result = FindBonusByNameInCfg('471'); //Корпус \"Честный ренегал\" IV",
              "            if ((random == 13) && prob(0.33) && (race == Peleng)) result = FindBonusByNameInCfg('463'); //Корпус \"Добрый лякуша\" IV",
              "            if ((random == 14) && prob(0.33) && (race == People)) result = FindBonusByNameInCfg('467'); //Корпус \"Мирный корсар\" IV",
              "            if ((random == 15) && (race == People)) result = FindBonusByNameInCfg('482'); //Корпус \"Ушастик\" III\"",
              "            if ((random == 16) && prob(0.33) && (race == People)) result = FindBonusByNameInCfg('483'); //Корпус \"Ушастик\" IV\"",
              "            if ((random == 17)) result = FindBonusByNameInCfg('350'); // Убийца",
              "",
              "            if ((random == 18)) result = FindBonusByCustomTag('ExpScienceRanks_TickSpeedMode'); // Клещ #Скоростной",
              "            if ((random == 19)) result = FindBonusByCustomTag('ExpScienceRanks_TickDefenseMode'); // Клещ #Защитный",
              "            if ((random == 20)) result = FindBonusByCustomTag('ExpScienceRanks_TickAttackMode'); // Клещ #Атакующий",
              "",
              "            if ((random == 21) && prob(0.33)) result = FindBonusByCustomTag('LEOContentMod_Giperion_4_Hull'); // Гиперион IV",
              "            if ((random == 22)) result = FindBonusByCustomTag('LEOContentMod_Wraith_Hull'); // Мираж",
              "            if ((random == 23)) result = FindBonusByCustomTag('LEOContentMod_WraithJunker_Hull'); // Мираж (модифицированный)",
              "            if ((random == 24)) result = FindBonusByCustomTag('LEOLastHulls_G3_Hull'); // Приговор",
              "            if ((random == 25)) result = FindBonusByCustomTag('LEOLastHulls_G4_Hull'); // Колокол",
              "            if ((random == 26)) result = FindBonusByCustomTag('LEOContentMod_Viking_Hull'); // Викинг",
              "",
              "            if ((random == 27) && (race == Peleng)) result = FindBonusByName('Ара' + ' III');",
              "            if ((random == 28) && (race == People || race == Maloc)) result = FindBonusByName('Бамберга' + ' III');",
              "            if ((random == 29) && (race == Maloc)) result = FindBonusByName('Кабан' + ' III');",
              "            if ((random == 30) && (race == Fei)) result = FindBonusByName('Ястреб' + ' III');",
              "            if ((random == 31) && (race == Gaal)) result = FindBonusByName('Пантера' + ' III');",
              "            if ((random == 32) && (race == People || race == Peleng)) result = FindBonusByName('Акулёнок' + ' III');",
              "            if ((random == 33) && (race == Maloc)) result = FindBonusByNameInCfg('Cat_Ships_Bigrabyrba');",
              "            if ((random == 34)) result = FindBonusByNameInCfg('Cat_Ships_BlackCrow');",
              "            if ((random == 35)) result = FindBonusByNameInCfg('Cat_Ships_BlackRipper');",
              "            if ((random == 36)) result = FindBonusByNameInCfg('Cat_Ships_Cvahonda');",
              "            if ((random == 37)) result = FindBonusByNameInCfg('Cat_Ships_Hellcat');",
              "            if ((random == 38)) result = FindBonusByNameInCfg('Cat_Ships_Starfury');",
              "            if ((random == 39) && (race == People)) result = FindBonusByNameInCfg('Cat_Ships_Starhammer');",
              "            if ((random == 40) && (race == People)) result = FindBonusByNameInCfg('Cat_Ships_Spectr');",
              "            if ((random == 41) && (race == People)) result = FindBonusByNameInCfg('Cat_Ships_Ares');",
              "            if ((random == 42)) result = FindBonusByNameInCfg('Cat_Gollandec');",
              "            if ((random == 43) && (race == People)) result = FindBonusByNameInCfg('Cat_Ships_Slave');",
              "            if ((random == 44) && (race == Peleng || race == Gaal)) result = FindBonusByNameInCfg('Cat_Ships_Daminikov');",
              "            if ((random == 45)) result = FindBonusByNameInCfg('Cat_Mandalorec');",
              "        }",
              "",
              "        if (power == 4) {",
              "            random = Rnd(1, 23);",
              "            //if ((random == 1)) result = FindBonusByNameInCfg('487'); // Корпус \"Молния\" V",
              "            //if ((random == 2)) result = FindBonusByNameInCfg('488'); // Корпус \"Броненосец\" V",
              "            if ((random == 1) && (race == Gaal)) result = FindBonusByNameInCfg('486'); // Корпус \"Честнейший ренегал\"",
              "            if ((random == 2) && (race == Peleng)) result = FindBonusByNameInCfg('484'); // Корпус \"Добрейший лякуша\"",
              "            if ((random == 3) && (race == People)) result = FindBonusByNameInCfg('485'); // Корпус \"Безобиднейший корсар\"",
              "            //if ((random == 6)) result = FindBonusByNameInCfg('489'); // Корпус \"Ушастик\" V",
              "            //if ((random == 7)) result = FindBonusByNameInCfg('490'); // Тень Империи",
              "",
              "            if ((random == 4) && (race == Fei)) result = FindBonusByCustomTag('LEOContentMod_HullFei_PC5_Hull'); // Крутейший фантом",
              "            if ((random == 5) && (race == Maloc)) result = FindBonusByCustomTag('LEOContentMod_HullMaloc_PC5_Hull'); // Злейший бамбай",
              "            if ((random == 6)) result = FindBonusByCustomTag('UnionNovaX3'); // Нова",
              "            if ((random == 7) && (race == Peleng)) result = FindBonusByCustomTag('UnionRachehan'); // Рачехан",
              "            if ((random == 8)) result = FindBonusByCustomTag('NormandyRM'); // Нормандия #1",
              "            if ((random == 9)) result = FindBonusByCustomTag('NormandyBM'); // Нормандия #2",
              "",
              "            if ((random == 10) && (race == People)) result = FindBonusByNameInCfg('Cat_Yamato_Upgraded');",
              "            if ((random == 11)) result = FindBonusByNameInCfg('Cat_Asteroid');",
              "            if ((random == 12) && (race == Fei)) result = FindBonusByNameInCfg('Cat_Ships_Keller');",
              "            if ((random == 13)) result = FindBonusByNameInCfg('Cat_StarWanderer');",
              "            if ((random == 14)) result = FindBonusByNameInCfg('Cat_Blazer');",
              "            if ((random == 15)) result = FindBonusByNameInCfg('Cat_Excalibur');",
              "            if ((random == 16)) result = FindBonusByNameInCfg('Cat_Terron');",
              "",
              "            if ((random == 17)) result = FindBonusByNameInCfg('ArtiUniqueShipsPack_BulwarkHull');",
              "            if ((random == 18)) result = FindBonusByNameInCfg('ArtiUniqueShipsPack_FriendHull');",
              "            if ((random == 19)) result = FindBonusByNameInCfg('ArtiUniqueShipsPack_TechnotronHull');",
              "            if ((random == 20)) result = FindBonusByNameInCfg('ArtiUniqueShipsPack_TornadoHullNormal');",
              "            if ((random == 21)) result = FindBonusByNameInCfg('ArtiUniqueShipsPack_TornadoHullEnergy');",
              "            if ((random == 22)) result = FindBonusByNameInCfg('ArtiUniqueShipsPack_TornadoHullMissile');",
              "            if ((random == 23)) result = FindBonusByNameInCfg('ArtiUniqueShipsPack_TornadoHullSplinter');",
              "        }",
              "    }",
              "",
              "    if (cnt > 100 && debug) {",
              "        SFT('[ZelPirates.RandomAcryn] В какой-то из категорий мало акринов (или вам не повезло).');",
              "    }",
              "    if ((result == -1 || result == 0) && debug) {",
              "        SFT('[ZelPirates.RandomAcryn] Произошло что-то странное и акрин не выдался.');",
              "    }",
              "}"          
          ]        
        },
        {
          "Type":  "Top",
          "Name":  "",
          "Pos.x":  770,
          "Pos.y":  -200,
          "Parent":  -1,
          "#":  147,
          "Code.Type":  "Global",
          "Code":          
          [
              "//Описание некоторых переменных:",
              "//branch - номер ветки улучшения (вне диалога не имеет смысла)",
              "//Общие улучшения:",
              "//    0 - количество кораблей",
              "//    1 - частота постройки",
              "//    2 - количество оборудки",
              "//    3 - качество обучения",
              "//    4 - качество оборудки",
              "//Улучшение конкретного рейнджера",
              "//    5 - размер корпуса",
              "//    6 - качество акрина",
              "//    7 - качество оборудки",
              "//",
              "//Переменные состояния скрипта:",
              "//    Общие улучшения:",
              "//        -0- NRangers",
              "//        -1- LvlFreq",
              "//        -2- NItem",
              "//        -3- LvlSkills",
              "//        -4- LvlUpgrade",
              "//",
              "//    Массивы улучшений для 5 рейнджеров:",
              "//        -5- LvlHullSize[5]",
              "//        -6- LvlHullAcrin[5]",
              "//        -7- LvlEq[5]",
              "//",
              "//    money[5] - начальный капитал рейнджеров, увеличивается при каждом улучшении",
              "//    cost_multiplier - множитель стоимости улучшений, увеличивается при каждом улучшении",
              "//    accepted - принял ли игрок предложение",
              "//        0 - нет (показывается диалог предложения)",
              "//        1 - да (показывается диалог улучшения)",
              "//    buy_date - дата следующей постройки кораблей",
              "//",
              "//",
              "//Переменные для диалогового блока (вне диалога не имеют смысла):",
              "//    branch",
              "//    current_ranger",
              "//    branch_level - уровень улучшения текущей ветви",
              "//",
              "//Константы:",
              "//    branch_money_bonus[8] - бонус к капиталу от каждого улучшения",
              "//    branch_cost[8] - множитель стоимости каждого улучшения",
              "//    branch_cost_multiplier_inc[8] - приращение cost_multiplier при каждом улучшении"          
          ]        
        }      
      ],
      "Planets":      
      [
        {
          "Type":  "TPlanet",
          "Name":  "Planet",
          "Pos.x":  370,
          "Pos.y":  -100,
          "Parent":  -1,
          "#":  3,
          "Race":  62,
          "Owner":  62,
          "Economy":  14,
          "Goverment":  62,
          "RangeMin":  0,
          "RangeMax":  100,
          "Dialog":  -1        
        }      
      ],
      "Ships":      
      [
        {
          "Type":  "TStarShip",
          "Name":  "",
          "Pos.x":  370,
          "Pos.y":  -160,
          "Parent":  -1,
          "#":  1,
          "Count":  1,
          "Owner":  62,
          "Ship.Type":  126,
          "Player":  true,
          "SpeedMin":  0,
          "SpeedMax":  10000,
          "Weapon":  0,
          "CargoHook":  0,
          "EmptySpace":  0,
          "StatusTraderMin":  0,
          "StatusTraderMax":  100,
          "StatusWarriorMin":  0,
          "StatusWarriorMax":  100,
          "StatusPirateMin":  0,
          "StatusPirateMax":  100,
          "StrengthMin":  "0",
          "StrengthMax":  "0",
          "Ruins":  ""        
        }      
      ],
      "Stars":      
      [
        {
          "Type":  "TStar",
          "Name":  "Star",
          "Pos.x":  370,
          "Pos.y":  -130,
          "Parent":  -1,
          "#":  0,
          "Constellation":  0,
          "Priority":  0,
          "NoKling":  false,
          "NoComeKling":  false        
        }      
      ],
      "Statements":      
      [
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  980,
          "Pos.y":  230,
          "Parent":  -1,
          "#":  23,
          "Code.Type":  "DialogBegin",
          "Code":          
          [
              "ShipType(GetShipRuins(Player())) == 'RC'"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  950,
          "Pos.y":  230,
          "Parent":  -1,
          "#":  38,
          "Code.Type":  "DialogBegin",
          "Code":          
          [
              "GetShipRuins(Player())"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  1160,
          "Pos.y":  230,
          "Parent":  -1,
          "#":  41,
          "Code.Type":  "Turn",
          "Code":          
          [
              "NRangers >= 3"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  1160,
          "Pos.y":  210,
          "Parent":  -1,
          "#":  42,
          "Code.Type":  "Turn",
          "Code":          
          [
              "NRangers >= 2"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  1160,
          "Pos.y":  190,
          "Parent":  -1,
          "#":  43,
          "Code.Type":  "Turn",
          "Code":          
          [
              "NRangers >= 1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  1160,
          "Pos.y":  250,
          "Parent":  -1,
          "#":  44,
          "Code.Type":  "Turn",
          "Code":          
          [
              "NRangers >= 4"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  1160,
          "Pos.y":  270,
          "Parent":  -1,
          "#":  45,
          "Code.Type":  "Turn",
          "Code":          
          [
              "NRangers >= 5"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  1390,
          "Pos.y":  140,
          "Parent":  -1,
          "#":  93,
          "Code.Type":  "Turn",
          "Code":          
          [
              "branch_level < 5"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  1450,
          "Pos.y":  140,
          "Parent":  -1,
          "#":  95,
          "Code.Type":  "Turn",
          "Code":          
          [
              "ShipMoney(Player()) >= cost"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  1390,
          "Pos.y":  200,
          "Parent":  -1,
          "#":  100,
          "Code.Type":  "Turn",
          "Code":          
          [
              "branch_level == 5"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  1250,
          "Pos.y":  310,
          "Parent":  -1,
          "#":  116,
          "Code.Type":  "Turn",
          "Code":          
          [
              "(branch >= 5) && (branch <= 7)"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  1470,
          "Pos.y":  310,
          "Parent":  -1,
          "#":  117,
          "Code.Type":  "DialogBegin",
          "Code":          
          [
              "1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  1360,
          "Pos.y":  100,
          "Parent":  -1,
          "#":  118,
          "Code.Type":  "DialogBegin",
          "Code":          
          [
              "1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  1360,
          "Pos.y":  170,
          "Parent":  -1,
          "#":  119,
          "Code.Type":  "DialogBegin",
          "Code":          
          [
              "1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  1550,
          "Pos.y":  100,
          "Parent":  -1,
          "#":  120,
          "Code.Type":  "DialogBegin",
          "Code":          
          [
              "1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  1590,
          "Pos.y":  310,
          "Parent":  -1,
          "#":  133,
          "Code.Type":  "DialogBegin",
          "Code":          
          [
              "1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  1590,
          "Pos.y":  -120,
          "Parent":  -1,
          "#":  134,
          "Code.Type":  "DialogBegin",
          "Code":          
          [
              "1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  1240,
          "Pos.y":  -120,
          "Parent":  -1,
          "#":  135,
          "Code.Type":  "Turn",
          "Code":          
          [
              "(branch >= 0) && (branch <= 4)"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  1270,
          "Pos.y":  280,
          "Parent":  -1,
          "#":  137,
          "Code.Type":  "DialogBegin",
          "Code":          
          [
              "1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  1160,
          "Pos.y":  150,
          "Parent":  -1,
          "#":  138,
          "Code.Type":  "DialogBegin",
          "Code":          
          [
              "1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  1240,
          "Pos.y":  30,
          "Parent":  -1,
          "#":  139,
          "Code.Type":  "DialogBegin",
          "Code":          
          [
              "1"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  400,
          "Pos.y":  150,
          "Parent":  -1,
          "#":  146,
          "Code.Type":  "Turn",
          "Code":          
          [
              "debug"          
          ]        
        },
        {
          "Type":  "Tif",
          "Name":  "",
          "Pos.x":  920,
          "Pos.y":  230,
          "Parent":  -1,
          "#":  148,
          "Code.Type":  "DialogBegin",
          "Code":          
          [
              "ShipOnSidePirateClan(Player())"          
          ]        
        }      
      ],
      "States":      
      [
        {
          "Type":  "TState",
          "Name":  "State",
          "Pos.x":  370,
          "Pos.y":  -40,
          "Parent":  -1,
          "#":  5,
          "Move":  0,
          "MoveObj":  -1,
          "Attack.Count":  0,
          "TakeItem":  -1,
          "TakeAllItem":  false,
          "OnTalk":  "",
          "OnActCode":  "",
          "EType":  1,
          "EUnique":  "",
          "EMsg":  ""        
        }      
      ],
      "Variables":      
      [
        {
          "Type":  "TVar",
          "Name":  "NRangers",
          "Pos.x":  660,
          "Pos.y":  -110,
          "Parent":  -1,
          "#":  6,
          "Var.Type":  "Int",
          "Init":  "1",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "ship",
          "Pos.x":  820,
          "Pos.y":  380,
          "Parent":  -1,
          "#":  7,
          "Var.Type":  "Dword",
          "Init":  "",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "LvlFreq",
          "Pos.x":  660,
          "Pos.y":  -90,
          "Parent":  -1,
          "#":  10,
          "Var.Type":  "Int",
          "Init":  "1",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "LvlHullSize",
          "Pos.x":  660,
          "Pos.y":  0,
          "Parent":  -1,
          "#":  11,
          "Var.Type":  "Unknown",
          "Init":  "",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "LvlHullAcrin",
          "Pos.x":  660,
          "Pos.y":  20,
          "Parent":  -1,
          "#":  12,
          "Var.Type":  "Unknown",
          "Init":  "",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "random",
          "Pos.x":  800,
          "Pos.y":  320,
          "Parent":  -1,
          "#":  13,
          "Var.Type":  "Int",
          "Init":  "",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "money",
          "Pos.x":  660,
          "Pos.y":  80,
          "Parent":  -1,
          "#":  14,
          "Var.Type":  "Unknown",
          "Init":  "",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "i",
          "Pos.x":  750,
          "Pos.y":  300,
          "Parent":  -1,
          "#":  15,
          "Var.Type":  "Int",
          "Init":  "",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "branch_level",
          "Pos.x":  1030,
          "Pos.y":  190,
          "Parent":  -1,
          "#":  16,
          "Var.Type":  "Int",
          "Init":  "",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "LvlEq",
          "Pos.x":  660,
          "Pos.y":  40,
          "Parent":  -1,
          "#":  19,
          "Var.Type":  "Unknown",
          "Init":  "",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "NItems",
          "Pos.x":  660,
          "Pos.y":  -70,
          "Parent":  -1,
          "#":  20,
          "Var.Type":  "Int",
          "Init":  "1",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "LvlSkills",
          "Pos.x":  660,
          "Pos.y":  -50,
          "Parent":  -1,
          "#":  21,
          "Var.Type":  "Int",
          "Init":  "1",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "LvlUpgrade",
          "Pos.x":  660,
          "Pos.y":  -30,
          "Parent":  -1,
          "#":  22,
          "Var.Type":  "Int",
          "Init":  "1",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "StrLvlFreq",
          "Pos.x":  770,
          "Pos.y":  -90,
          "Parent":  -1,
          "#":  57,
          "Var.Type":  "Unknown",
          "Init":  "",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "StrNRangers",
          "Pos.x":  770,
          "Pos.y":  -110,
          "Parent":  -1,
          "#":  58,
          "Var.Type":  "Unknown",
          "Init":  "",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "StrNItems",
          "Pos.x":  770,
          "Pos.y":  -70,
          "Parent":  -1,
          "#":  59,
          "Var.Type":  "Unknown",
          "Init":  "",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "StrLvlSkills",
          "Pos.x":  770,
          "Pos.y":  -50,
          "Parent":  -1,
          "#":  60,
          "Var.Type":  "Unknown",
          "Init":  "",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "StrLvlUpgrade",
          "Pos.x":  770,
          "Pos.y":  -30,
          "Parent":  -1,
          "#":  61,
          "Var.Type":  "Unknown",
          "Init":  "",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "StrLvlHullSize",
          "Pos.x":  770,
          "Pos.y":  0,
          "Parent":  -1,
          "#":  62,
          "Var.Type":  "Unknown",
          "Init":  "",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "StrLvlHullAcrin",
          "Pos.x":  770,
          "Pos.y":  20,
          "Parent":  -1,
          "#":  63,
          "Var.Type":  "Unknown",
          "Init":  "",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "StrLvlEq",
          "Pos.x":  770,
          "Pos.y":  40,
          "Parent":  -1,
          "#":  64,
          "Var.Type":  "Unknown",
          "Init":  "",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "cost",
          "Pos.x":  1030,
          "Pos.y":  130,
          "Parent":  -1,
          "#":  66,
          "Var.Type":  "Int",
          "Init":  "",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "cost_multiplier",
          "Pos.x":  660,
          "Pos.y":  100,
          "Parent":  -1,
          "#":  67,
          "Var.Type":  "Float",
          "Init":  "1.0",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "buy_date",
          "Pos.x":  660,
          "Pos.y":  140,
          "Parent":  -1,
          "#":  112,
          "Var.Type":  "Int",
          "Init":  "0",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "accepted",
          "Pos.x":  660,
          "Pos.y":  120,
          "Parent":  -1,
          "#":  113,
          "Var.Type":  "Int",
          "Init":  "0",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "branch",
          "Pos.x":  1030,
          "Pos.y":  170,
          "Parent":  -1,
          "#":  114,
          "Var.Type":  "Int",
          "Init":  "",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "branch_cost",
          "Pos.x":  460,
          "Pos.y":  -70,
          "Parent":  -1,
          "#":  121,
          "Var.Type":  "Unknown",
          "Init":  "",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "branch_money_bonus",
          "Pos.x":  460,
          "Pos.y":  -90,
          "Parent":  -1,
          "#":  122,
          "Var.Type":  "Unknown",
          "Init":  "",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "branch_cost_multiplier_inc",
          "Pos.x":  460,
          "Pos.y":  -50,
          "Parent":  -1,
          "#":  123,
          "Var.Type":  "Unknown",
          "Init":  "",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "j",
          "Pos.x":  750,
          "Pos.y":  320,
          "Parent":  -1,
          "#":  125,
          "Var.Type":  "Int",
          "Init":  "",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "current_ranger",
          "Pos.x":  1030,
          "Pos.y":  150,
          "Parent":  -1,
          "#":  126,
          "Var.Type":  "Int",
          "Init":  "",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "k",
          "Pos.x":  750,
          "Pos.y":  340,
          "Parent":  -1,
          "#":  127,
          "Var.Type":  "Int",
          "Init":  "",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "power",
          "Pos.x":  750,
          "Pos.y":  420,
          "Parent":  -1,
          "#":  128,
          "Var.Type":  "Int",
          "Init":  "",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "item",
          "Pos.x":  820,
          "Pos.y":  400,
          "Parent":  -1,
          "#":  129,
          "Var.Type":  "Dword",
          "Init":  "",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "cnt",
          "Pos.x":  800,
          "Pos.y":  340,
          "Parent":  -1,
          "#":  130,
          "Var.Type":  "Int",
          "Init":  "",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "size",
          "Pos.x":  750,
          "Pos.y":  400,
          "Parent":  -1,
          "#":  131,
          "Var.Type":  "Int",
          "Init":  "",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "acryn",
          "Pos.x":  820,
          "Pos.y":  420,
          "Parent":  -1,
          "#":  140,
          "Var.Type":  "Int",
          "Init":  "",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "admirals_cnt",
          "Pos.x":  660,
          "Pos.y":  160,
          "Parent":  -1,
          "#":  141,
          "Var.Type":  "Int",
          "Init":  "0",
          "Global":  false        
        },
        {
          "Type":  "TVar",
          "Name":  "debug",
          "Pos.x":  400,
          "Pos.y":  130,
          "Parent":  -1,
          "#":  145,
          "Var.Type":  "Int",
          "Init":  "0",
          "Global":  false        
        }      
      ]    
    }  
  ],
  "Visual.Links":  
  [
    {
      "Type":  "TGraphLink",
      "Begin":  1,
      "End":  0,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  3,
      "End":  0,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  4,
      "End":  3,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  4,
      "End":  5,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  26,
      "End":  27,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  27,
      "End":  28,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  28,
      "End":  29,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  29,
      "End":  30,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  30,
      "End":  31,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  30,
      "End":  32,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  32,
      "End":  33,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  33,
      "End":  34,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  31,
      "End":  35,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  35,
      "End":  36,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  38,
      "End":  23,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  39,
      "End":  37,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  43,
      "End":  40,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  45,
      "End":  49,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  44,
      "End":  48,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  42,
      "End":  46,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  41,
      "End":  47,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  37,
      "End":  50,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  50,
      "End":  51,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  51,
      "End":  52,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  51,
      "End":  53,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  51,
      "End":  54,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  51,
      "End":  55,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  51,
      "End":  56,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  79,
      "End":  82,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  80,
      "End":  83,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  81,
      "End":  84,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  25,
      "End":  26,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  52,
      "End":  65,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  53,
      "End":  69,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  54,
      "End":  70,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  55,
      "End":  71,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  56,
      "End":  72,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  65,
      "End":  74,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  69,
      "End":  75,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  70,
      "End":  76,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  71,
      "End":  77,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  72,
      "End":  78,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  82,
      "End":  90,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  84,
      "End":  92,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  83,
      "End":  91,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  94,
      "End":  95,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  95,
      "End":  96,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  96,
      "End":  68,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  68,
      "End":  97,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  94,
      "End":  98,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  74,
      "End":  99,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  75,
      "End":  99,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  76,
      "End":  99,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  77,
      "End":  99,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  78,
      "End":  99,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  90,
      "End":  99,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  91,
      "End":  99,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  92,
      "End":  99,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  100,
      "End":  101,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  101,
      "End":  102,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  84,
      "End":  103,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  83,
      "End":  103,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  82,
      "End":  103,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  23,
      "End":  24,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  93,
      "End":  104,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  104,
      "End":  94,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  37,
      "End":  106,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  65,
      "End":  107,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  69,
      "End":  107,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  70,
      "End":  107,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  71,
      "End":  107,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  72,
      "End":  107,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  102,
      "End":  108,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  98,
      "End":  108,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  97,
      "End":  109,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  110,
      "End":  108,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  109,
      "End":  105,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  97,
      "End":  110,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  105,
      "End":  120,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  120,
      "End":  118,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  118,
      "End":  119,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  119,
      "End":  93,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  119,
      "End":  100,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  99,
      "End":  119,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  108,
      "End":  117,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  117,
      "End":  116,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  85,
      "End":  73,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  86,
      "End":  73,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  87,
      "End":  73,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  88,
      "End":  73,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  89,
      "End":  73,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  40,
      "End":  85,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  46,
      "End":  86,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  47,
      "End":  87,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  48,
      "End":  88,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  49,
      "End":  89,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  117,
      "End":  133,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  133,
      "End":  134,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  134,
      "End":  135,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  135,
      "End":  51,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  51,
      "End":  136,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  116,
      "End":  73,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  73,
      "End":  79,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  73,
      "End":  80,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  73,
      "End":  81,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  73,
      "End":  132,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  138,
      "End":  37,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  132,
      "End":  138,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  103,
      "End":  137,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  137,
      "End":  73,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  37,
      "End":  43,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  37,
      "End":  42,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  37,
      "End":  41,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  37,
      "End":  44,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  37,
      "End":  45,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  107,
      "End":  139,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  139,
      "End":  51,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  136,
      "End":  138,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  146,
      "End":  142,
      "Nom":  0,
      "Arrow":  true    
    },
    {
      "Type":  "TGraphLink",
      "Begin":  148,
      "End":  38,
      "Nom":  0,
      "Arrow":  true    
    }  
  ],
  "Rect.Text":  
  [
    {
      "Type":  "TGraphRectText",
      "Rect.Left":  588,
      "Rect.Top":  -220,
      "Rect.Right":  718,
      "Rect.Bottom":  -183,
      "FStyle":  1,
      "FColor":  0,
      "BStyle":  0,
      "BColor":  16777215,
      "BSize":  1,
      "BCoef":  "0.25",
      "AlignX":  -1,
      "AlignY":  0,
      "AlignRect":  true,
      "Text":  "Покупка новых \r\nрейнджеров",
      "Color":  16777215,
      "Font":  "Consolas",
      "FontSize":  10,
      "fsBold":  false,
      "fsItalic":  false,
      "fsUnderline":  false    
    },
    {
      "Type":  "TGraphRectText",
      "Rect.Left":  416,
      "Rect.Top":  -224,
      "Rect.Right":  570,
      "Rect.Bottom":  -176,
      "FStyle":  1,
      "FColor":  0,
      "BStyle":  0,
      "BColor":  16777215,
      "BSize":  1,
      "BCoef":  "0.25",
      "AlignX":  -1,
      "AlignY":  0,
      "AlignRect":  false,
      "Text":  "Функции",
      "Color":  16777215,
      "Font":  "Consolas",
      "FontSize":  10,
      "fsBold":  false,
      "fsItalic":  false,
      "fsUnderline":  false    
    },
    {
      "Type":  "TGraphRectText",
      "Rect.Left":  417,
      "Rect.Top":  -160,
      "Rect.Right":  547,
      "Rect.Bottom":  -121,
      "FStyle":  1,
      "FColor":  0,
      "BStyle":  0,
      "BColor":  16777215,
      "BSize":  1,
      "BCoef":  "0.25",
      "AlignX":  -1,
      "AlignY":  0,
      "AlignRect":  false,
      "Text":  "Константы\r\nбаланса",
      "Color":  16777215,
      "Font":  "Consolas",
      "FontSize":  10,
      "fsBold":  false,
      "fsItalic":  false,
      "fsUnderline":  false    
    },
    {
      "Type":  "TGraphRectText",
      "Rect.Left":  560,
      "Rect.Top":  -159,
      "Rect.Right":  680,
      "Rect.Bottom":  -120,
      "FStyle":  1,
      "FColor":  0,
      "BStyle":  0,
      "BColor":  16777215,
      "BSize":  1,
      "BCoef":  "0.25",
      "AlignX":  -1,
      "AlignY":  0,
      "AlignRect":  false,
      "Text":  "Состояние \r\nскрипта",
      "Color":  16777215,
      "Font":  "Consolas",
      "FontSize":  10,
      "fsBold":  false,
      "fsItalic":  false,
      "fsUnderline":  false    
    },
    {
      "Type":  "TGraphRectText",
      "Rect.Left":  382,
      "Rect.Top":  106,
      "Rect.Right":  466,
      "Rect.Bottom":  168,
      "FStyle":  1,
      "FColor":  10710818,
      "BStyle":  0,
      "BColor":  14474460,
      "BSize":  1,
      "BCoef":  "1",
      "AlignX":  0,
      "AlignY":  -1,
      "AlignRect":  false,
      "Text":  "D E B U G",
      "Color":  16777215,
      "Font":  "Arial",
      "FontSize":  10,
      "fsBold":  false,
      "fsItalic":  false,
      "fsUnderline":  false    
    }  
  ],
  "BlockPar.EC.Total.Strings":  96,
  "BlockPar.EC":  
  [
    {
      "#":  "11",
      "String":  "Так у тебя всё готово?! Так это же другое дело, ну чё там, сколько кредитов стоит закупить пару тройку подержаных звездолётов?"    
    },
    {
      "#":  "12",
      "String":  "Не, идея здравая но мне мои деньги явно важней."    
    },
    {
      "#":  "13",
      "String":  "Вас приветствует интерактивная таблица информации Гаалаксель! Что вы хотите узнать?"    
    },
    {
      "#":  "133",
      "String":  "Обратно к общим параметрам"    
    },
    {
      "#":  "134",
      "String":  "Обратно к выбору параметров"    
    },
    {
      "#":  "135",
      "String":  "Обратно к параметрам текущего салаги"    
    },
    {
      "#":  "136",
      "String":  "Акулёнок"    
    },
    {
      "#":  "137",
      "String":  "Пантера"    
    },
    {
      "#":  "138",
      "String":  "Ястреб"    
    },
    {
      "#":  "139",
      "String":  "Кабан"    
    },
    {
      "#":  "140",
      "String":  "Бамберга"    
    },
    {
      "#":  "141",
      "String":  "Ара"    
    },
    {
      "#":  "15",
      "String":  "Информация о параметрах корабля, для первого класса салаг"    
    },
    {
      "#":  "151",
      "String":  "Да я третьего дня, сидел кумекал сколько чё стоить будет если бароном стану или ему просто идею закинуть, короче таблицу расходов в Гаалакселе навоял.<br>Если интересно то могу показать а там уже если чё и браткам закинешь на новую ласточку."    
    },
    {
      "#":  "152",
      "String":  "Не, ну я конечно не барон, пока что, но ты дело говоришь."    
    },
    {
      "#":  "153",
      "String":  "Не, ну как бы да... а к чему ты это?"    
    },
    {
      "#":  "154",
      "String":  "производим на специализированных заводах под заказ"    
    },
    {
      "#":  "16",
      "String":  "Информация о параметрах корабля, для второго класса салаг"    
    },
    {
      "#":  "160",
      "String":  "лучшие специалисты с Гаалдока"    
    },
    {
      "#":  "163",
      "String":  "малокско-человеческая группа слесарей пятого разряда"    
    },
    {
      "#":  "164",
      "String":  "несколько малоков-слесарей"    
    },
    {
      "#":  "165",
      "String":  "берем в рейнджеров исключительно выпускников лётных училищ и проводим с ними углубленные тренировки"    
    },
    {
      "#":  "168",
      "String":  "устраиваем массовую пропаганду рейнджерского движения, начиная от разбрасывания листовок и заканчивая формированием в литературе образа героя без страха и упрёка - Космического Рейнджера"    
    },
    {
      "#":  "17",
      "String":  "Информация о параметрах корабля, для третьего класса салаг"    
    },
    {
      "#":  "170",
      "String":  "устраиваем парады памяти рейнджеров-героев"    
    },
    {
      "#":  "171",
      "String":  "расклеиваем повсюду плакаты \"А ты записался в рейнджеры?\""    
    },
    {
      "#":  "172",
      "String":  "раздаём листовки с призывом вступать в рейнджеры на главных площадях"    
    },
    {
      "#":  "174",
      "String":  "создаем своими силами закупая детали на планетах"    
    },
    {
      "#":  "175",
      "String":  "покупаем б/у хорошего качества у бывших боевых пилотов "    
    },
    {
      "#":  "176",
      "String":  "скупаем оптом на распродажах в бизнец-центрах"    
    },
    {
      "#":  "177",
      "String":  "лучшими специалистами галактики на одной из научных баз"    
    },
    {
      "#":  "178",
      "String":  "на специально построенном предприятии по акринации"    
    },
    {
      "#":  "179",
      "String":  "в одной из лабораторий Центра Рейнджеров под добровольным надзором учёных"    
    },
    {
      "#":  "18",
      "String":  "Информация о параметрах корабля, для четвертого класса салаг"    
    },
    {
      "#":  "180",
      "String":  "лицензированными специалистами, их не взяли в пилоты по состоянию здоровья но они могут помочь нашему общему делу"    
    },
    {
      "#":  "181",
      "String":  "приглашёнными специалистами без лицензии, только никому не говорите"    
    },
    {
      "#":  "182",
      "String":  "корпус огромного размера, больше только у флагманов и то не всегда"    
    },
    {
      "#":  "183",
      "String":  "корпус большого размера, такие размеры обычно у торговых судов, но наши рейнджеры достойны лучшего"    
    },
    {
      "#":  "184",
      "String":  "корпус среднего размера, оптимальный вариант для начинающего героя"    
    },
    {
      "#":  "185",
      "String":  "корпус маленького размера, как и вы когда-то в начале вашей карьеры"    
    },
    {
      "#":  "186",
      "String":  "корпус минимального размера, сравнимый с гражданской авиацией"    
    },
    {
      "#":  "187",
      "String":  "научная база \"Наяна\""    
    },
    {
      "#":  "188",
      "String":  "практиканты технических вузов с Эйпентака"    
    },
    {
      "#":  "189",
      "String":  "берем в рейнджеров исключительно профессиональных пилотов и дополнительно обучаем их всевозможным навыкам"    
    },
    {
      "#":  "19",
      "String":  "Информация о параметрах корабля, для пятого класса салаг"    
    },
    {
      "#":  "190",
      "String":  "берем в рейнджеров всех прошедших экзамены в симуляторах космического, планетрного и гиперпространственного боя"    
    },
    {
      "#":  "191",
      "String":  "берем в рейнджеров всех прошедших минимальное обучение в симуляторах космеческого боя"    
    },
    {
      "#":  "194",
      "String":  "большое количество оборудования, наши рейнджеры оснащены не хуже военных"    
    },
    {
      "#":  "195",
      "String":  "среднее количество оборудования, практически полноценный комплект"    
    },
    {
      "#":  "196",
      "String":  "коплект джентельмена - пушка, дроид и радар! В общем самое необходимое"    
    },
    {
      "#":  "197",
      "String":  "минимальный комплект оборудования, с которым возможен космический полёт"    
    },
    {
      "#":  "198",
      "String":  "полноценное орбитальное училище вмещающее пять классов рейнджеров"    
    },
    {
      "#":  "199",
      "String":  "четыре класса для обучения рейнджеров"    
    },
    {
      "#":  "20",
      "String":  "Расскажите об общих параметрах"    
    },
    {
      "#":  "200",
      "String":  "целых три класса рейнджеров"    
    },
    {
      "#":  "202",
      "String":  "только один класс рейнджеров"    
    },
    {
      "#":  "204",
      "String":  "Дела на фронте сейчас совсем кислые, как обстоят дела с новобранцами в наши ряды доблестных рейнджеров?"    
    },
    {
      "#":  "205",
      "String":  "Мне нужен доступ к вашей таблице в Гаалакселе"    
    },
    {
      "#":  "206",
      "String":  "скупаем лучший массмаркет с индустриальных планет"    
    },
    {
      "#":  "207",
      "String":  "берем в рейнджеров всех желающих"    
    },
    {
      "#":  "208",
      "String":  "полноценный комплект оборудования, вооружения и возможно даже парочку артефактов"    
    },
    {
      "#":  "209",
      "String":  "два класса обучения рейнджеров"    
    },
    {
      "#":  "21",
      "String":  "Меня интересует количество классов для обучения салаг<br>"    
    },
    {
      "#":  "210",
      "String":  "ведём активную агитационную программу в гааланете"    
    },
    {
      "#":  "22",
      "String":  "Меня интересует скорость обучения салаг<br>"    
    },
    {
      "#":  "23",
      "String":  "Меня интересует количество выдаваемого оборудования новым салагам"    
    },
    {
      "#":  "26",
      "String":  "В данный момент мы за один раз способны подготовить <0>."    
    },
    {
      "#":  "27",
      "String":  "Мы постоянно работаем над привлечением новых гуманоидов в пиратское движение. Прямо сейчас мы <0>."    
    },
    {
      "#":  "28",
      "String":  "Следующим салагам мы будем выдавать <0>."    
    },
    {
      "#":  "29",
      "String":  "Сейчас мы <0>."    
    },
    {
      "#":  "3",
      "String":  "Слушай, можешь не отвечать конечно, но это же про тебя постоянно статьи в галанете пишут, да и корабль твой в ангаре самый навароченный из всех, явно же при деньгах."    
    },
    {
      "#":  "30",
      "String":  "Нашим специалистом по улучшению оборудования является <0>."    
    },
    {
      "#":  "31",
      "String":  "В параметры корабля салаги входит:<br>1. Размер корпуса<br>2. Акрин корпуса<br>3. Уровень экипировки"    
    },
    {
      "#":  "32",
      "String":  "Этот класс салаг получит <0>."    
    },
    {
      "#":  "33",
      "String":  "Акринацию корпуса для этого класса салаг производят <0>."    
    },
    {
      "#":  "34",
      "String":  "Оборудование для этого класса салаг мы <0>."    
    },
    {
      "#":  "35",
      "String":  "Меня интересует программа обучения новых салаг"    
    },
    {
      "#":  "36",
      "String":  "Меня интересует улучшение оборудования салаг"    
    },
    {
      "#":  "38",
      "String":  "Меня интересует размер корпуса"    
    },
    {
      "#":  "39",
      "String":  "Меня интересует акрин корпуса"    
    },
    {
      "#":  "40",
      "String":  "Меня интересует уровень экипировки"    
    },
    {
      "#":  "43",
      "String":  "Ну братух, сам понимаешь мы ребята вольные, да и ремесло наше не простое. Сейчас когда с одной стороны жестянки а с другой псы Коалиции, совсем грусно стало. Был бы я Бароном всем новичкам раздавал бы по кораблю и оборудки не жалел бы."    
    },
    {
      "#":  "46",
      "String":  "Спасибо братуха, твоя жертва не оценима, давай налью бесплатно! Обмоем. Только благодаря таким как ты мы ещё на плаву."    
    },
    {
      "#":  "47",
      "String":  "Этот параметр уже находится на максимальном уровне"    
    },
    {
      "#":  "48",
      "String":  "Да"    
    },
    {
      "#":  "49",
      "String":  "Нет"    
    },
    {
      "#":  "5",
      "String":  "Да... Я всё понимаю братух но как захочишь ченить в мире поменять, ты знаешь где меня найти."    
    },
    {
      "#":  "50",
      "String":  "Я хочу проспонсировать улучшение этого параметра"    
    },
    {
      "#":  "51",
      "String":  "Хорошо"    
    },
    {
      "#":  "53",
      "String":  "Ничего не нужно"    
    },
    {
      "#":  "58",
      "String":  "Я хочу проспонсировать улучшение этого параметра еще раз"    
    },
    {
      "#":  "59",
      "String":  "Ага"    
    },
    {
      "#":  "6",
      "String":  "Далее"    
    },
    {
      "#":  "60",
      "String":  "В общие параметры входит:<br>1. Количество баров для экскурса салаг<br>2. Скорость обучения рейнджеров<br>3. Количество выдаваемого оборудования рейнджерам<br>4. Качество программы обучения новых рейнджеров<br>5. Степерь дополнительного улучшения оборудования рейнджеров<br>"    
    },
    {
      "#":  "61",
      "String":  "На данный момент улучшение требует <0> cr. Желаете проспонсировать проект?"    
    },
    {
      "#":  "7",
      "String":  "Ха, вот это по нашему, держи доступ таблица интерактивная, сама подскажет что имеем и что можно подтянуть, глядишь если все статьи закроем, то и Каолов победим."    
    }  
  ]
}